Mediasite.Player.PanelFocusResetter=function(n){function focusedElementChanged(){setTimeout(function(){$(document.activeElement)!=undefined&&u.SetFocusedElement($(document.activeElement))},1)}function focusedElementBelongsToPanel(n){var t=getPanelElementPerPanelButton(n);return $(t).find(i).length}function lastFocusedElementBelongsToPanel(n){var t=getPanelElementPerPanelButton(n);return $(t).find(r).length}function getPanelCloseButtonPerPanelButton(n){for(var i=0;i<t.length;i++)if(n.is(t[i].panelButton))return t[i].panelCloseButton;return null}function focusedElementIsPanelCloseButton(n){var t=getPanelCloseButtonPerPanelButton(n);return i?i.is(t):!1}function getPanelElementPerPanelButton(n){for(var i=0;i<t.length;i++)if(n.is(t[i].panelButton))return t[i].panelElement;return null}function getPanelButtonPerPanelElement(n){for(var r=null,i=0;i<t.length;i++)if(n.is(t[i].panelElement)){r=t[i].panelButton;break}return r}function getPanelElementPerFocusedElement(){for(var r=null,n=0;n<t.length;n++)if(t[n].panelElement.find(i).length){r=t[n].panelElement;break}return r}function getElementToResetFocusToAfterAllClosed(){var t,n;return document.activeElement==null||document.activeElement.tagName.toUpperCase()=="BODY"?n:(t=getPanelElementPerFocusedElement(),t?n=getPanelButtonPerPanelElement(t):i)}function getElementToResetFocusToAfterOneClosedSomeStillOpen(n,t){return document.activeElement==null||document.activeElement.tagName.toUpperCase()=="BODY"?n:focusedElementIsPanelCloseButton(n)?t==Mediasite.Player.PanelFocusResetter.ClickType.MouseClick?lastFocusedElementBelongsToPanel(n)?n:r:n:focusedElementBelongsToPanel(n)?n:i}var u=this,i,r,t={};$("body").on("focusin",focusedElementChanged);t=n,this.GetElementToResetFocusTo=function(n,t,i){return(i==null&&(i=Mediasite.Player.PanelFocusResetter.ClickType.MouseClick),n==Mediasite.Player.PanelFocusResetter.PanelClosingType.AllClosed)?getElementToResetFocusToAfterAllClosed():n==Mediasite.Player.PanelFocusResetter.PanelClosingType.OneClosedSomeStillOpen||n==Mediasite.Player.PanelFocusResetter.PanelClosingType.OneClosedNoneStillOpen?getElementToResetFocusToAfterOneClosedSomeStillOpen(t,i):void 0},this.SetFocusedElement=function(n){var t=$(n);r=i,i=t},this.GetFocusedElement=function(){return i},this.FocusedElementIs=function(n){return i.is($(n))}},Mediasite.Player.PanelFocusResetter.PanelClosingType={AllClosed:"AllClosed",OneClosedSomeStillOpen:"OneClosedSomeStillOpen",OneClosedNoneStillOpen:"OneClosedNoneStillOpen"},Mediasite.Player.PanelFocusResetter.ClickType={MouseClick:"MouseClick",KeyPress:"KeyPress"}
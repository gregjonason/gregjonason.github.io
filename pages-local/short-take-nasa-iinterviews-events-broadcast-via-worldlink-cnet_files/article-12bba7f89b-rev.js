/**
 * easyXDM
 * http://easyxdm.net/
 * Copyright(c) 2009-2011, Øyvind Sean Kinsey, oyvind@kinsey.no.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */

// Copyright(c) 2009-2011, Øyvind Sean Kinsey, oyvind@kinsey.no.

// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell

// The above copyright notice and this permission notice shall be included in

/*!
* jQuery throttle / debounce - v1.1 - 3/7/2010
* http://benalman.com/projects/jquery-throttle-debounce-plugin/
*
* Copyright (c) 2010 "Cowboy" Ben Alman
* Dual licensed under the MIT and GPL licenses.
* http://benalman.com/about/license/
*/

// Script: jQuery throttle / debounce: Sometimes, less is more!
//
// *Version: 1.1, Last updated: 3/7/2010*
//
// Project Home - http://benalman.com/projects/jquery-throttle-debounce-plugin/
// GitHub - http://github.com/cowboy/jquery-throttle-debounce/
// Source - http://github.com/cowboy/jquery-throttle-debounce/raw/master/jquery.ba-throttle-debounce.js
// (Minified) - http://github.com/cowboy/jquery-throttle-debounce/raw/master/jquery.ba-throttle-debounce.min.js (0.7kb)
//
// About: License
//
// Copyright (c) 2010 "Cowboy" Ben Alman,
// Dual licensed under the MIT and GPL licenses.
// http://benalman.com/about/license/
//
// About: Examples
//
// These working examples, complete with fully commented code, illustrate a few
// ways in which this plugin can be used.
//
// Throttle - http://benalman.com/code/projects/jquery-throttle-debounce/examples/throttle/
// Debounce - http://benalman.com/code/projects/jquery-throttle-debounce/examples/debounce/
//
// About: Support and Testing
//
// Information about what version or versions of jQuery this plugin has been
// tested with, what browsers it has been tested in, and where the unit tests
// reside (so you can test it yourself).
//
// jQuery Versions - none, 1.3.2, 1.4.2
// Browsers Tested - Internet Explorer 6-8, Firefox 2-3.6, Safari 3-4, Chrome 4-5, Opera 9.6-10.1.
// Unit Tests - http://benalman.com/code/projects/jquery-throttle-debounce/unit/
//
// About: Release History
//
// 1.1 - (3/7/2010) Fixed a bug in <jQuery.throttle> where trailing callbacks
// executed later than they should. Reworked a fair amount of internal
// logic as well.
// 1.0 - (3/6/2010) Initial release as a stand-alone project. Migrated over
// from jquery-misc repo v0.4 to jquery-throttle repo v1.0, added the
// no_trailing throttle parameter and debounce functionality.
//
// Topic: Note for non-jQuery users
//
// jQuery isn't actually required for this plugin, because nothing internal
// uses any jQuery methods or properties. jQuery is just used as a namespace
// under which these methods can exist.
//
// Since jQuery isn't actually required for this plugin, if jQuery doesn't exist
// when this plugin is loaded, the method described below will be created in
// the `Cowboy` namespace. Usage will be exactly the same, but instead of
// $.method() or jQuery.method(), you'll need to use Cowboy.method().

/*
 * Lazy Load - jQuery plugin for lazy loading images
 *
 * Copyright (c) 2007-2013 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://www.appelsiini.net/projects/lazyload
 *
 * Version:  1.9.3
 *
 */

/*!
Waypoints - 3.1.1
Copyright © 2011-2015 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blog/master/licenses.txt
*/

/*!
Waypoints Inview Shortcut - 3.1.1
Copyright © 2011-2015 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blog/master/licenses.txt
*/

/*
* jQuery Mobile v1.4.0-alpha.1
* http://jquerymobile.com
*
* Copyright 2010, 2013 jQuery Foundation, Inc. and other contributors
* Released under the MIT license.
* http://jquery.org/license
*
*/

define("managers/client-storage",["jquery","utils/cookie"],function(e,t){function o(e){var o=null;return o=!i()||a.forceCookies||e?t.read(a.dataNamespace+(e?a.sessionSuffix:a.permanentSuffix))||null:localStorage.getItem(a.dataNamespace)||null,JSON.parse(o)||{}}function n(e,o){var n=JSON.stringify(e);!i()||a.forceCookies||o?o?t.write(a.dataNamespace+a.sessionSuffix,n):t.write(a.dataNamespace+a.permanentSuffix,n,{expires:365}):localStorage.setItem(a.dataNamespace,n)}function i(){var e=!1;if("undefined"!=typeof Storage)try{var t="test";localStorage.setItem(t,0),localStorage.removeItem(t),e=!0}catch(o){}return e}var a={dataNamespace:"cnetSettings",forceCookies:!1,permanentSuffix:"Permanent",sessionSuffix:"Session"};return{init:function(t){e.extend(!0,a,t)},read:function(e,t){t=t||!1;var n=o(t);return n[e]||null},write:function(e,t,i){i=i||!1;var a=o(i);a[e]=t,n(a,i)},erase:function(e,t){t=t||!1;var i=o(t);delete i[e],n(i,t)}}}),define("managers/tealium",["jquery","version!fly/managers/debug","managers/page-vars","tealium"],function(e,t,o){var n=t.get("tealium");return{trackLead:function(e){this._trackClickViaUtag("om","trackLeadClick","trackLeadClick",e)},trackExternalLink:function(e){this._trackClickViaUtag("om","trackClick","trackExternalLink",e)},trackSocial:function(e){var t="";t="object"==typeof o.tracking.data.collectionId?o.tracking.data.collectionId[0]:"string"==typeof o.tracking.data.collectionId?o.tracking.data.collectionId:"";var n={wd:"socialbutton",wdloc:"sharebar",ssite:e&&e.socialService?e.socialService:"",_collectionPrimaryId:t,_dwLinkTag:e.sharebarSection};this._trackClickViaUtag("om","trackSocialClick","trackSocialClick",e,n)},trackComment:function(t,n,i){var a="";a="object"==typeof o.tracking.data.collectionId?o.tracking.data.collectionId[0]:"string"==typeof o.tracking.data.collectionId?o.tracking.data.collectionId:"";var s={link_text:t,_clickAction:i?i:t,_levtType:"ria",_levtEventType:"log",_riaMapp:"livefyre",_riaObjType:"url",levtType:"social",socialService:"cnet",sc:"es",wdloc:"livefyrecommentbox",_collectionPrimaryId:a,_dwLinkTag:n.sharebarSection};this._trackClickViaUtag("utag","link",t,n,e.extend({},this._getUdoStockData(),s))},trackSuggestedSearch:function(e){var t={};this._trackClickViaUtag("om","trackSuggestedSearchClick","trackSuggestedSearchClick",e,t)},trackPodcast:function(e){this._trackClickViaUtag("om","trackPodcast","trackPodcast",e)},trackForum:function(e,t){var o={};this._trackClickViaUtag("om","trackForum",e,t,o)},trackVideo:function(e,t,n){var i=e.charAt(0).toUpperCase()+e.slice(1),a=0===t?"Start":100===t?"Complete":t+"Percent",s="pause"===e?"videoTime":"video"+i+a,r=o.tracking.data,l={_noLinkTrack:"LEVT",_videoAction:s,link_text:s,siteHier:r.siteHier,siteSection:r.siteSection,siteEdition:r.siteEdition,siteType:r.siteType,deviceType:r.deviceType,pageType:r.pageType,pageNum:null!=r.pageNum?r.pageNum:1,topicId:r.topicId,pageViewGuid:r.pageViewGuid,articleAuthorId:r.articleAuthorId,articleAuthorName:r.articleAuthorName,articleId:r.articleId,articleTitle:r.articleTitle,articleType:r.articleType,productId:r.productId,productName:r.productName};this._trackClickViaUtag("utag","link",s,n,l)},trackPageLoad:function(e){try{o.tracking.enabled===!0?(e="undefined"==typeof e?{}:e,utag.view(e),n.log("Track view: ",e)):n.log("Event tracking aborted; tracking is not enabled!")}catch(t){n.log("Page load tracking failed:",t)}},trackCustomEvent:function(e,t,o){var n={link_text:e,_clickAction:o?o:e,_noLinkTrack:"LEVT"};this._trackClickViaUtag("utag","link",e,t,n)},_trackClickViaUtag:function(t,i,a,s,r){try{if(o.tracking.enabled===!0){r="object"!=typeof r?{}:r;var l={_test:o.tracking.data.testName?o.tracking.data.testName+"|"+o.tracking.data.testVersion+"|"+o.tracking.data.testGroup:""};s="object"!=typeof s?e.extend({},l,r):e.extend({},l,r,s),e.inArray(t,["om","omnitureMgr","utag"])>=0?(window[t][i](s),"object"==typeof window.s&&(window.s.events=""),n.log(a+" ping: ",s)):n.log("Invalid tracking object",t)}else n.log(a+" aborted; tracking is not enabled!")}catch(c){n.log(a+" failed:",c)}},init:function(t){o.tracking.enabled===!0?(o.tracking.data=t,utag_data=t,n.log("Load tracking data: ",t),e(window).on("unload",function(){try{var e=document.createElement("img");e.setAttribute("src","http://dw.cbsi.com/levt/ria/e.gif?event=log&mapp=exiteventtrack&riaevent=exit&v6="+window.location.href+"&v12="+(t.siteEdition||"")+"&v13="+(t.testName||"")+"|"+(t.testVersion||"")+"|"+(t.testGroup||"")+"&v16="+(t.pageViewGuid||"")+"&v17="+(t.topicId&&t.topicId.length>0?t.topicId[0]:"")+"&v18="+(t.articleId||"")+"&v19="+(t.pageType||"")+"&v20="+(t.articleType||"")+"&v21="+(t.siteType||"")+"|||"+(t.deviceType||"")+"&v23="+(t.dwAccount||"")+"&ts="+(new Date).getTime())}catch(o){}})):n.log("Initialization aborted; tracking is not enabled!")},setPageValue:function(e,t){this[e]=t,utag_data[e]=t,o.tracking.data[e]=t},setPageValues:function(t){e.extend(utag_data,t),e.extend(o.tracking.data,t)},getTrackingData:function(){return o.tracking.enabled===!0?o.tracking.data:{}},_getUdoStockData:function(){var e=o.tracking.data;return{siteEdition:e.siteEdition,pageViewGuid:e.pageViewGuid,pageType:e.pageType,siteHier:e.siteHier,siteType:e.siteType,deviceType:e.deviceType,articleId:e.articleId,articleTitle:e.articleTitle,articleType:e.articleType,articlePubDate:e.articlePubDate,articleAuthorId:e.articleAuthorId,articleAuthorName:e.articleAuthorName,topicId:e.topicId,topicName:e.topicName}}}}),define("fly/components/modal-1.0",["jquery","version!fly/components/base"],function(e){var t=e.support.touch?"vclick":"click";e.widget("fly.modal",e.fly.base,{options:{content:null,position:"absolute",classModal:"modal",classBackdrop:"modal-backdrop",classShow:"show",classFixed:"fixed",enableKeyEvents:!0,openOnInit:!1,template:null},$modal:null,$backdrop:null,$body:null,isOpen:!1,eventData:{},_create:function(){var o=this.options,n="fixed"===o.position?" "+o.classFixed:"",i={},a={};this._setup(),this.$modal=this.$element.addClass(o.classModal+n),this.$backdrop=e("<div>").addClass(o.classBackdrop+n),this.$body=e(document.body),this.top=parseInt(this.$modal.css("top"),10),o.content&&this.setContent(o.content),this.eventData={$modal:this.$modal,$backdrop:this.$backdrop},i[t]="_handleClose",a[t+' [data-close="modal"]']="_handleClose",this._on(this.$backdrop,i),this._on(this.$modal,a)},_init:function(){this.options.openOnInit&&this.open()},_handleKeyboard:function(e){27==e.keyCode&&this.close()},_handleClose:function(e){e.preventDefault(),this.close()},open:function(){var e=this.options;this.isOpen||this._trigger("open",null,this.eventData)!==!1&&(this.$backdrop.addClass(e.classShow).appendTo(this.$body),this.$modal.addClass(e.classShow).appendTo(this.$body),this.position(),e.enableKeyEvents&&this._on(this.$document,{keyup:"_handleKeyboard"}),this.isOpen=!0,this._trigger("opened",null,this.eventData))},close:function(){var e=this.options;this.isOpen&&this._trigger("close",null,this.eventData)!==!1&&(this.$backdrop.removeClass(e.classShow),this.$modal.removeClass(e.classShow),this._off(this.$document,"keyup"),this.isOpen=!1,this._trigger("closed",null,this.eventData))},setContent:function(t){var o,n=this.options,i=this,a=e(t);a.hasClass(n.classModal)&&(a.removeClass(n.classModal),o=a.prop("attributes"),e.each(o,function(){"class"===this.name?i.$modal.addClass(this.value):i.$modal.attr(this.name,this.value)}),a=a.children()),this.$modal.empty().append(a),this._trigger("contentSet",null,e.extend({},this.eventData,{$modal:this.$modal,$content:a}))},position:function(){var e=this.options,t=this.$window.height(),o=isNaN(this.top)?(t-this.$modal.outerHeight())/3:this.top;20>o&&(o=20),"absolute"==e.position&&(o+=this.$window.scrollTop(),this.$backdrop.css({height:this.$document.height()})),this.$modal.css({top:o}),this._trigger("positioned",null,{$modal:this.$modal})},_destroy:function(){this.$backdrop.remove()}}),e(document).on(t+".modal-api.data-api",'[data-open="modal"]',function(t){var o=e(this),n=o.data(),i=n.$modal;t.preventDefault(),i||(i=e(n.target||o.attr("href")),o.data("$modal",i)),i.length&&i.modal().modal("open")})}),define("components/global-modal",["jquery","version!fly/components/modal"],function(e){e.widget("cnet.globalModal",e.fly.modal,{options:{modalTemplate:'<a class="close" data-close="modal"></a> {{content}}'},setContent:function(t){var o,n=this.options,i=this;"string"==typeof t?this.$modal.html(n.modalTemplate.replace("{{content}}",t)):(t.hasClass(n.classModal)&&(t.removeClass(n.classModal),o=t.prop("attributes"),e.each(o,function(){"class"===this.name?i.$modal.addClass(this.value):i.$modal.attr(this.name,this.value)}),t=n.modalTemplate.replace("{{content}}",t.html())),this.$modal.empty().append(t),this._trigger("contentSet",null,e.extend({},this.eventData,{$modal:this.$modal,$content:t})))},position:function(){var e=this.options,t=this.$window.height(),o=isNaN(this.top)?(t-this.$modal.outerHeight())/3:this.top;20>o&&(o=20),"absolute"==e.position&&(o+=this.$window.scrollTop(),this.$backdrop.css({height:this.$document.height()})),this.$modal.css({top:o}),this._trigger("positioned",null,{$modal:this.$modal});var n=this.$window.width()/2,i=this.$window.scrollLeft();this.$element.css("left",n+i-this.$element.width()/2)}})}),define("translations/user-controller",["managers/edition"],function(e){var t={en:{loginText:"Log In / Join"},es:{loginText:"Iniciar sesión / Crear cuenta"}};return t[e.getLanguage()]}),window.Modernizr=function(e,t,o){function n(e){h.cssText=e}function i(e,t){return typeof e===t}var a,s,r,l="2.6.2",c={},u=t.documentElement,d="modernizr",p=t.createElement(d),h=p.style,m=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),f={},g=[],v=g.slice,y=function(e,o,n,i){var a,s,r,l,c=t.createElement("div"),p=t.body,h=p||t.createElement("body");if(parseInt(n,10))for(;n--;)r=t.createElement("div"),r.id=i?i[n]:d+(n+1),c.appendChild(r);return a=["&#173;",'<style id="s',d,'">',e,"</style>"].join(""),c.id=d,(p?c:h).innerHTML+=a,h.appendChild(c),p||(h.style.background="",h.style.overflow="hidden",l=u.style.overflow,u.style.overflow="hidden",u.appendChild(h)),s=o(c,e),p?c.parentNode.removeChild(c):(h.parentNode.removeChild(h),u.style.overflow=l),!!s},w={}.hasOwnProperty;r=i(w,"undefined")||i(w.call,"undefined")?function(e,t){return t in e&&i(e.constructor.prototype[t],"undefined")}:function(e,t){return w.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var o=v.call(arguments,1),n=function(){if(this instanceof n){var i=function(){};i.prototype=t.prototype;var a=new i,s=t.apply(a,o.concat(v.call(arguments)));return Object(s)===s?s:a}return t.apply(e,o.concat(v.call(arguments)))};return n}),f.touch=function(){var o;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?o=!0:y(["@media (",m.join("touch-enabled),("),d,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){o=9===e.offsetTop}),o};for(var b in f)r(f,b)&&(s=b.toLowerCase(),c[s]=f[b](),g.push((c[s]?"":"no-")+s));return c.addTest=function(e,t){if("object"==typeof e)for(var n in e)r(e,n)&&c.addTest(n,e[n]);else{if(e=e.toLowerCase(),c[e]!==o)return c;t="function"==typeof t?t():t,"undefined"!=typeof enableClasses&&enableClasses&&(u.className+=" "+(t?"":"no-")+e),c[e]=t}return c},n(""),p=a=null,c._version=l,c._prefixes=m,c.testStyles=y,c}(this,this.document),define("libs/modernizr.custom-2.6.2",function(){}),define("managers/device",["jquery","version!fly/managers/debug","version!libs/modernizr.custom"],function(e,t){t=t.init("device");var o={desktop:"desktop",mobile:"mobile"},n={type:"desktop"},i={init:function(t){n.type=t;var o=e("body");Modernizr.touch?o.addClass("touch-enabled"):o.addClass("touch-disabled")},getType:function(){return n.type},isDesktop:function(){return n.type===o.desktop},isMobile:function(){return n.type===o.mobile},isAndroid:function(){return navigator.userAgent.match(/Android/i)},isKindle:function(){return navigator.userAgent.match(/Kindle/i)||navigator.userAgent.match(/Silk/i)},isBlackBerry:function(){return navigator.userAgent.match(/BB10/i)&&navigator.userAgent.match(/Mobile/i)},isWinPhone:function(){return navigator.userAgent.match(/Windows Phone/i)},isIPhone:function(){return navigator.userAgent.match(/iPhone/i)},isIPad:function(){return navigator.userAgent.match(/iPad/i)},isDesktopUserAgent:function(){return!(this.isAndroid()||this.isKindle()||this.isBlackBerry()||this.isWinPhone()||this.isIPhone()||this.isIPad())},isMobileUserAgent:function(){return this.isAndroid()||this.isKindle()||this.isBlackBerry()||this.isWinPhone()},getClickType:function(){return Modernizr.touch?"tap":"click"},getImmediateClickType:function(){return Modernizr.touch?"touchstart":"click"}};return i}),define("utils/urs-helper",["jquery","version!fly/managers/debug","urs"],function(e,t){t=t.init("ursHelper");var o={16:257,103:259,222:263,225:265,242:266,256:268,295:298,358:359,363:361,364:362,368:365,369:366,370:367,372:371,403:401,404:402,9:269,36:270,74:278,305:304,27:280,374:373,376:375};return{getSocialAppId:function(e){return o[e]},getUrs:function(e,t){var o=URS.getInstance(e);return o||(o=URS.newInstance({appId:e,environment:URS.ursEnvironments.LIVE}),t&&t(o)),o}}}),define("fly/utils/string-vars-1.0",["jquery"],function(e){return{compile:function(t,o,n){var i=this;return"string"!=typeof t?"":(n=e.makeArray(n),t=t.replace(/\{([^}]+)\}/g,function(t){var a=n,s="";return t=t.replace(/\|[^\}|]+/g,function(e){return a.push(e.substr(1)),""}),s=o[t.replace(/[{}]+/g,"")]||"",e.each(a,function(e,t){s=i.modify(t,s)}),s}))},modify:function(e,t){switch(e){case"lower":t=t.toLowerCase();break;case"upper":t=t.toUpperCase();break;case"urlencode":t=encodeURIComponent(t)}return t}}}),define("fly/components/loading-1.0",["jquery","version!fly/utils/string-vars","version!fly/components/base"],function(e,t){e.widget("fly.loading",e.fly.base,{options:{disabled:!1,delay:100,timeout:25e3,initState:"",template:'<div class="{baseClass} {stateClass}"><span class="text">{text}</span></div>',classes:{base:"loader",idle:"",loading:"loading",end:"load-end",error:"load-error"},text:{idle:"",loading:"Loading",end:"The End",error:"Error Encountered :("}},_create:function(){this._setup(),this._state=null,this._timeoutId=null},_init:function(){var e=this.options;!e.disabled&&e.initState&&(this._setContent(e.initState),this._state=e.initState)},_setContent:function(o,n){var i,a=this.options;return"remove"===o?void this.$element.empty():(i=t.compile(a.template,e.extend({state:o,baseClass:a.classes.base,stateClass:a.classes[o],text:a.text[o]},n)),void this.$element.html(i))},add:function(){var t=this.options;this._trigger("add")!==!1&&(this.update("loading"),"number"==typeof t.timeout&&t.timeout>0&&(this._timeoutId=setTimeout(e.proxy(this.remove,this),t.timeout)),this._trigger("added"))},remove:function(){this._trigger("remove")!==!1&&(this.update("remove"),this._trigger("removed"))},update:function(e,t){var o=this.options,n={state:e};this._trigger("update",null,n)!==!1&&(this._state=e,o.disabled||(clearTimeout(this._timeoutId),this._setContent(e,t),this._trigger("updated",null,n)))},isLoading:function(){return"loading"===this._state?!0:!1},getState:function(){return this._state},_setOption:function(e,t){var o=this.options;"data"===e?this.$element.data("data",t):"disabled"===e&&(t===!0?this.$element.empty():this._setContent(o.initState)),this._super(e,t)},_destroy:function(){this.$element.remove()}})}),define("fly/components/modal-iframe-1.0",["jquery","version!fly/utils/object-helper","version!fly/utils/url-helper","version!fly/components/modal","version!fly/components/loading"],function(e,t,o){e.support.touch?"vclick":"click";e.widget("fly.modalIframe",e.fly.modal,{options:{url:null,requestData:{},messages:{},loader:{disabled:!1}},messenger:null,_create:function(){this._super(),this._setupLoader()},_setupLoader:function(){var t=this;this.loader=e.fly.loading(e.extend(this.options.loader,{shown:function(){t.$element.addClass(t.loader.options.classes.loading)},hidden:function(){t.$element.removeClass(t.loader.options.classes.loading)}})),this.loader.$element.appendTo(this.$element)},open:function(){this.isOpen||(this.loader.add(),this.loadContent(),this._super())},_getUrl:function(){var t=this.options,o=t.url;return t.requestData&&(o=o+(o.indexOf("?")>0?"&":"?")+e.param(t.requestData)),o},loadContent:function(){var t=this.options,o=this;this.messenger=this.$element.iframeMessenger({remoteUrl:this._getUrl(),receivableMessages:e.extend({},t.messages,{ready:function(){o._trigger("iframeReady"),o.loader.remove()},closeModal:function(){o.close()},scroll:function(t){var n=o.$element.offset().top+t.offset;n-=o.$window.height()/6,e("html, body").animate({scrollTop:n},"fast")}})})}})}),define("translations/loading",["managers/edition"],function(e){var t={en:{loading:"Loading",end:"The End",error:"Error Encountered"},es:{loading:"Cargando",end:"Fin",error:"Error Encontrado"}};return t[e.getLanguage()]}),define("components/loading",["jquery","version!fly/managers/debug","translations/loading","version!fly/components/loading"],function(e,t,o){t=t.init("loading"),e.widget("cnet.loading",e.fly.loading,{options:{classes:{base:"loader",idle:"",loading:"loadingCircle",end:"load-end",error:"load-error"},text:o},add:function(){this._super(),this.$element.parent().addClass("loadingArea")},remove:function(){this._super(),this.$element.parent().removeClass("loadingArea")}})}),define("components/modal-iframe",["jquery","version!fly/managers/debug","version!fly/components/modal-iframe","components/loading"],function(e,t){t=t.init("modalIframe"),e.widget("fly.modalIframe",e.fly.modalIframe,{options:{modalTemplate:'<a class="close" data-close="modal"></a> {{content}}',loader:{classes:{loading:"loadingCircle"}}},$body:null,_create:function(){this._super(),this.$body=e(document.body),this.setContent('<a class="close" data-close="modal"></a>'),this._setupLoader()},_setupLoader:function(){var t=this;this.loader=e.cnet.loading(e.extend(this.options.loader,{shown:function(){t.$element.addClass(t.loader.options.classes.loading)},hidden:function(){t.$element.removeClass(t.loader.options.classes.loading)}})),this.loader.$element.appendTo(this.$element)},open:function(){this.isOpen||(this.loader.add(),this.loadContent(),this._super(),this.centerHorizontally())},loadContent:function(){var t=this.options,o=this;this.messenger=this.$element.iframeMessenger({remoteUrl:this._getUrl(),receivableMessages:e.extend({},t.messages,{ready:function(){o._trigger("iframeReady"),o.loader.remove(),setTimeout(o.centerHorizontally.bind(o),250)},closeModal:function(){o.close()}})})},centerHorizontally:function(){this.$element.css("margin-left",-(this.$element.width()/2))},position:function(){var e=this.options,t=this.$window.height(),o=isNaN(this.top)?(t-this.$modal.outerHeight())/3:this.top;20>o&&(o=20),"absolute"==e.position&&(o+=this.$window.scrollTop(),this.$backdrop.css({height:this.$document.height()})),this.$modal.css({top:o}),this._trigger("positioned",null,{$modal:this.$modal})}})}),define("components/user-controller",["jquery","utils/cookie","version!fly/managers/debug","translations/user-controller","managers/device","managers/edition","managers/page-vars","version!fly/utils/string-helper","managers/tealium","utils/urs-helper","version!fly/components/base","components/modal-iframe","urs"],function(e,t,o,n,i,a,s,r,l,c){o=o.init("userController"),e.widget("cnet.userController",e.fly.base,{options:{urls:{login:"/user/login/",register:"/user/registration/",confirmRegistration:"/user/instructions-confirm-registration/",forgotPassword:"/user/forgotten-password/",passwordSent:"/user/password-sent/",createUsername:"/user/create-username/",sendConfirmation:"/user/send-confirmation/?registered=1",userData:"/user/get-data/",flag:"/user/flag/",socialAdditionalInformation:"/user/social-additional-information/"},suppressWhileLoggedIn:[],classLinked:"linked",classUnlinked:"unlinked",textLinked:"Linked to ",textUnlinked:"Unlinked to ",cookieUserRecognized:"urs_social_recognized"},events:{showModal:function(t){this.showModal(t.modal,e.extend(!0,t.params,{appId:this.currentAppId}))},submit:function(){this.modal.loader.add()},submitted:function(){this.modal.loader.remove()},logoutSuccess:function(){l.trackCustomEvent("trackLogout",{ursId:"",userState:"not authenticated",userType:"anon"},"logout")},loginSuccess:function(n){if(n.messages.success){var i=!this.suppressReload;l.trackCustomEvent("trackLogin",{ursId:n.user.registrationId,userState:"authenticated",userType:"registered"},"login"),t.write("previousLogin",n.user.registrationId,{expires:365}),o.log("making immediate post login call to urs for edition"),e.ajax({dataType:"json",url:this.options.urls.userData,async:!1,success:function(e){if(e.user.edition&&t.write("fly_preferred_edition",e.user.edition,{expires:365}),e.user.downloadUseInstaller&&("true"==e.user.downloadUseInstaller||"false"==e.user.downloadUseInstaller)&&null===t.read("killDlm")){var o="true"==e.user.downloadUseInstaller?"no":"yes";t.write("killDlm",o,{expires:7300})}}}),this.userData.userName=n.user.userName,this.userData.registrationId=n.user.registrationId,"function"==typeof this.nextAction&&(i=this.nextAction(n),this.nextAction=null),this.modal.close(),i!==!1?window.location.reload():this._loadUserData()}},loginFailure:function(e){e.messages||(this.modal.close(),this.showModal("confirmRegistration",{appId:this.currentAppId,email:e.email}))},registerSuccess:function(e){e.messages.success&&(l.trackCustomEvent("trackRegistrationNew",{userRegFormType:"",userRegService:""},"newRegistration"),this.modal.close(),"es"!==s.edition.code&&this.showModal("confirmRegistration",{appId:this.currentAppId,email:e.email,registered:1}))},registerFailure:function(e){},forgotPasswordSuccess:function(e){e.messages.success&&(this.modal.close(),this.showModal("passwordSent",{appId:this.currentAppId,email:e.email}),l.trackCustomEvent("trackForgotPassword",{},"forgotPassword"))},forgotPasswordFailure:function(e){},createUsernameSuccess:function(e){var t=!this.suppressReload;e.messages.success&&(this.userData.userName=e.user.userName,"function"==typeof this.nextAction&&(t=this.nextAction(),this.nextAction=null),this.modal.close(),t!==!1?window.location.reload():this._loadUserData())},createUsernameFailure:function(e){},socialAuthComplete:function(e){this._handleAuthComplete(e.event,e.apiResponse)}},modal:null,isLoggedIn:!1,userData:null,nextAction:null,suppressReload:!1,currentAppId:a.getDefaultAppId(),_create:function(){var t=this;this._setup(),t.options=e.extend(!0,t.options,s.user),e(document).ready(function(){t._cacheBreakLogout(),t._cacheBreakLegacy()}),this._setupEvents(),this._loadUserData(),this._initSocialRecognition()},_setupEvents:function(){var t=this;e.each(this.events,function(e,o){t.events[e]=o.bind(t)}),this.setupButtonEvents(),"true"==e('[data-user-action="logout"]').attr("data-user-suppress-refresh")&&this.$document.on(i.getImmediateClickType(),'[data-user-action="logout"]',function(e){e.preventDefault(),t.ajaxLogOut()})},setupButtonEvents:function(t){var o=this;e("[data-user-show]",t).on(i.getImmediateClickType(),function(t){t.preventDefault();var n=e(this).data("userShow");o.suppressReload=n.suppressReload,n.params.appId&&(o.currentAppId=n.params.appId),"desktop"==s.device?o.showModal(n.action,n.params):o._redirect(n.action,n.params)}),this.$document.on(i.getImmediateClickType(),"[data-user-access]",function(t){t.preventDefault();var n=e(this).data("userAccess");o.hasAccess(n)}),window.URS&&e("[data-user-social]",t).on(i.getImmediateClickType(),function(t){t.preventDefault();var n=e(this).data("userSocial"),i=c.getUrs(c.getSocialAppId(n.params.appId),o._setupSocialEvents.bind(o));if(o.currentAppId=n.params.appId,"login"===n.action)i.social.authenticate(n.socialSite);else if("register"===n.action){var a=e("#user_tos");if(0===a.length||a.prop("checked"))i.social.authenticate(n.socialSite,!0);else{var s=a.closest("form").data("formValidate");s.testField(a)}}})},_setupSocialEvents:function(t){var o=this;t.common.addEventListener(URS.events.AUTH_COMPLETE,this._handleAuthComplete.bind(this)),t.common.addEventListener(URS.events.GET_LINKS_COMPLETE,function(n,a){var s=e.map(a.response.socialLinks,function(e,t){return e.socialSite});e.each(URS.social.sites,function(n,a){var r=e("[data-user-link="+a+"]");r.length>0&&(e.inArray(a,s)>=0?r.removeClass(o.options.classUnlinked).addClass(o.options.classLinked).text(o.options.textLinked+a):r.removeClass(o.options.classLinked).addClass(o.options.classUnlinked).text(o.options.textUnlinked+a),r.on(i.getImmediateClickType(),function(n){e(this).hasClass(o.options.classLinked)?t.social.unlink(a):t.social.link(a)}))})}),t.common.addEventListener(URS.events.LINK_COMPLETE,function(t,n){!n.hasErrors()&&n.response.linked&&e("[data-user-link="+n.response.socialSite+"]").removeClass(o.options.classUnlinked).addClass(o.options.classLinked).text(o.options.textLinked+n.response.socialSite)}),t.common.addEventListener(URS.events.UNLINK_COMPLETE,function(t,n){!n.hasErrors()&&n.response.accountUnlinked&&e("[data-user-link="+n.response.socialSite+"]").removeClass(o.options.classLinked).addClass(o.options.classUnlinked).text(o.options.textUnlinked+n.response.socialSite)})},_handleAuthComplete:function(o,n){var i=this,a=!0;if(n.response.status.errors&&n.response.status.errors.length>0){var r=e.map(n.response.status.errors,function(e,t){return e.applicationCode}),l=r.join(",");if(l.indexOf("invalid.noLink")>=0)this.showModal("register",{appId:this.currentAppId});else if(l.match(/required\.|\.required/)){for(var c=[],u=0;u<r.length;u++)r[u].match(/required\.|\.required/)&&c.push(r[u].replace(/required\.|\.required/,"").toLowerCase());this.showModal("socialAdditionalInformation",{appId:this.currentAppId,socialSite:"facebook",fields:c.join(",")})}}else t.write(this.options.cookieUserRecognized,JSON.stringify({username:n.response.receipt.account.displayName,socialSite:n.response.socialSite}),{expires:365}),this.userData=null,e.post("/user/social-login/",{email:n.response.receipt.account.emailAddress},function(t){if("success"===t.status)if(null!==i.modal&&i.modal.close(),"desktop"==s.device)"function"==typeof i.nextAction&&(a=i.nextAction(n.response.receipt.account),i.nextAction=null),a!==!1?window.location.reload():i._loadUserData();else{var o=e('input[name="redirectUrl"]');window.location.href=o.length>0&&o.val().length>0?o.val():"/"}},"json")},_loadUserData:function(){var o=this;t.read("purs_1")?e.ajax({dataType:"json",url:this.options.urls.userData}).done(function(t){if(o.isLoggedIn=t.isLoggedIn,o.userData=e.extend(!0,t.user,{isLoggedIn:t.isLoggedIn}),o._updateDisplay(),o.isLoggedIn){var n=c.getUrs(c.getSocialAppId(a.getDefaultAppId()),o._setupSocialEvents.bind(o));n.social.getLinks(),o.$element.trigger("userhasloggedin")}o.$element.trigger("userdataloaded",[o.userData])}):this.userData={status:"success",isLoggedIn:!1}},_redirect:function(t,o){var n=this.options.urls[t],i=n;o&&(i+=(n.indexOf("?")>0?"&":"?")+e.param(o)),window.location.href=i},_updateDisplay:function(){var t=this,o=e("body");this.isLoggedIn?(e("[data-user-var]").each(function(){var o=e(this),n=o.data("userVar"),i=o.data("userVarAttr"),a=t.userData[n];"userName"===n?(a||(a=t.userData.displayName),a.length>13&&(a=a.substr(0,13)+"...")):"profileLink"===n&&(i="href",a=o.attr("data-template").replace("__username__",t.userData.userName?t.userData.userName.replace(/ /g,"+").toLowerCase():t.userData.registrationId)),a&&(i?o.attr(i,a):"avatar"===n?(o.html('<img src="'+a+'" />'),o.addClass("profilePic")):o.text(a))}),o.addClass("is-logged-in").removeClass("not-logged-in")):o.removeClass("is-logged-in").addClass("not-logged-in")},_cacheBreakLogout:function(){var t=e('[data-user-action="logout"]'),o=(new Date).getTime();t.each(function(t,n){var i=e(n);i.attr("href",i.attr("href")+"?t="+o)})},_cacheBreakLegacy:function(){this.getUserData(function(t,o){if(o.isLoggedIn){var n=e('[data-user-action="legacy"]'),i=(new Date).getTime();n.each(function(t,o){var n=e(o);n.attr("href",n.attr("href")+"?t="+i)})}})},ajaxLogOut:function(){var t=this;e.ajax({url:e('[data-user-action="logout"]').attr("href"),success:function(o){t.isLoggedIn=!1,t.userData={status:"success",isLoggedIn:!1},t._updateDisplay(),e('[data-user-var="userName"]').text(n.loginText),e('[data-user-var="avatar"]').removeClass("profilePic"),e('[data-user-var="avatar"] img').remove(),t.$element.trigger("userhasloggedout")}})},_initSocialRecognition:function(){var o=this,n=JSON.parse(t.read(this.options.cookieUserRecognized)),a=e(".unrecognized"),s=e(".recognized");n?(a.hide(),s.show(),e("[data-user-template]",s).each(function(t,o){var i=e(o);"name"===i.data("userTemplate")&&i.text(n.username)}),e("[data-user-social]",s).each(function(t,o){var i=e(o),a=i.data("userSocial");i.data("userSocial",e.extend(!0,a,{socialSite:n.socialSite})),i.addClass(n.socialSite),e(".logo",i).text(n.socialSite)}),e("[data-user-action]",s).on(i.getImmediateClickType(),function(t){"differentNetwork"===e(this).data("userAction")&&(e.removeCookie(o.options.cookieUserRecognized,{path:"/",domain:".cnet.com"}),s.hide(),a.show())})):(a.show(),s.hide())},showModal:function(t,o){this.modal&&this.modal.isOpen&&this.modal.close();var n=e("#flyoutPromo");n.length>0&&require(["managers/promotionals.desktop"],function(e){n.hide(),e.suppress("flyoutPromo")}),this.modal=e.fly.modalIframe(e.extend(!0,{},this.options.modalIframe,{url:this.options.urls[t],requestData:e.extend(o||{},{ifmsgr:!0,path:window.location.href}),messages:this.events,classModal:"modal modal-authentication"})),this.modal.$element.addClass("modal-"+r.fromCamelCase(t)),this.isLoggedIn&&e.inArray(t,this.options.suppressWhileLoggedIn)>=0||this.modal.open()},hasAccess:function(t){var o=this;t=e.extend(!0,{requireUsername:!1,nextAction:e.noop,eCode:"",forceRegistration:!1,redirectUrl:null},t),t.appId&&(this.currentAppId=t.appId);var n=t.redirectUrl?{redirectUrl:t.redirectUrl}:{};this.getUserData(function(i,a){a&&o.isLoggedIn||!t.forceRegistration?a&&o.isLoggedIn?t.requireUsername&&!a.userName?"desktop"==s.device?(o.nextAction=t.nextAction,o.showModal("createUsername",{appId:t.appId})):o._redirect("createUsername",e.extend({},{appId:t.appId},n)):t.nextAction(a):"desktop"==s.device?(o.nextAction=t.nextAction,o.showModal("login",{appId:t.appId})):o._redirect("login",e.extend({},{appId:t.appId},n)):"desktop"==s.device?(o.nextAction=t.nextAction,o.showModal("register",{appId:t.appId,eCode:t.eCode})):o._redirect("register",e.extend({},{appId:t.appId},n))})},getUserData:function(e){this.userData?e(null,this.userData):this.$element.on("userdataloaded",e)}})}),define("translations/user-form",["managers/edition"],function(e){var t={en:{globalError:"We are having technical difficulties. Please try again."},es:{globalError:"Estamos experimentando fallas técnicas. Por favor intenta de nuevo."}};return t[e.getLanguage()]}),function(e,t,o,n,i,a){function s(e,t){var o=typeof e[t];return"function"==o||!("object"!=o||!e[t])||"unknown"==o}function r(e,t){return!("object"!=typeof e[t]||!e[t])}function l(e){return"[object Array]"===Object.prototype.toString.call(e)}function c(){var e="Shockwave Flash",t="application/x-shockwave-flash";if(!w(navigator.plugins)&&"object"==typeof navigator.plugins[e]){var o=navigator.plugins[e].description;o&&!w(navigator.mimeTypes)&&navigator.mimeTypes[t]&&navigator.mimeTypes[t].enabledPlugin&&(A=o.match(/\d+/g))}if(!A){var n;try{n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),A=Array.prototype.slice.call(n.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1),n=null}catch(i){}}if(!A)return!1;var a=parseInt(A[0],10),s=parseInt(A[1],10);return E=a>9&&s>0,!0}function u(){if(!z){z=!0;for(var e=0;e<W.length;e++)W[e]();W.length=0}}function d(e,t){return z?void e.call(t):void W.push(function(){e.call(t)})}function p(){var e=parent;if(""!==N)for(var t=0,o=N.split(".");t<o.length;t++)e=e[o[t]];
return e.easyXDM}function h(t){return e.easyXDM=R,N=t,N&&(F="easyXDM_"+N.replace(".","_")+"_"),U}function m(e){return e.match(D)[3]}function f(e){return e.match(D)[4]||""}function g(e){var t=e.toLowerCase().match(D),o=t[2],n=t[3],i=t[4]||"";return("http:"==o&&":80"==i||"https:"==o&&":443"==i)&&(i=""),o+"//"+n+i}function v(e){if(e=e.replace(O,"$1/"),!e.match(/^(http||https):\/\//)){var t="/"===e.substring(0,1)?"":o.pathname;"/"!==t.substring(t.length-1)&&(t=t.substring(0,t.lastIndexOf("/")+1)),e=o.protocol+"//"+o.host+t+e}for(;j.test(e);)e=e.replace(j,"");return e}function y(e,t){var o="",n=e.indexOf("#");-1!==n&&(o=e.substring(n),e=e.substring(0,n));var i=[];for(var s in t)t.hasOwnProperty(s)&&i.push(s+"="+a(t[s]));return e+(H?"#":-1==e.indexOf("?")?"?":"&")+i.join("&")+o}function w(e){return"undefined"==typeof e}function b(e,t,o){var n;for(var i in t)t.hasOwnProperty(i)&&(i in e?(n=t[i],"object"==typeof n?b(e[i],n,o):o||(e[i]=t[i])):e[i]=t[i]);return e}function k(){var e=t.body.appendChild(t.createElement("form")),o=e.appendChild(t.createElement("input"));o.name=F+"TEST"+L,$=o!==e.elements[o.name],t.body.removeChild(e)}function _(e){w($)&&k();var o;$?o=t.createElement('<iframe name="'+e.props.name+'"/>'):(o=t.createElement("IFRAME"),o.name=e.props.name),o.id=o.name=e.props.name,delete e.props.name,"string"==typeof e.container&&(e.container=t.getElementById(e.container)),e.container||(b(o.style,{position:"absolute",top:"-2000px",left:"0px"}),e.container=t.body);var n=e.props.src;if(e.props.src="javascript:false",b(o,e.props),o.border=o.frameBorder=0,o.allowTransparency=!0,e.container.appendChild(o),e.onLoad&&I(o,"load",e.onLoad),e.usePost){var i,a=e.container.appendChild(t.createElement("form"));if(a.target=o.name,a.action=n,a.method="POST","object"==typeof e.usePost)for(var s in e.usePost)e.usePost.hasOwnProperty(s)&&($?i=t.createElement('<input name="'+s+'"/>'):(i=t.createElement("INPUT"),i.name=s),i.value=e.usePost[s],a.appendChild(i));a.submit(),a.parentNode.removeChild(a)}else o.src=n;return e.props.src=n,o}function C(e,t){"string"==typeof e&&(e=[e]);for(var o,n=e.length;n--;)if(o=e[n],o=new RegExp("^"==o.substr(0,1)?o:"^"+o.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$"),o.test(t))return!0;return!1}function T(n){var i,a=n.protocol;if(n.isHost=n.isHost||w(G.xdm_p),H=n.hash||!1,n.props||(n.props={}),n.isHost)n.remote=v(n.remote),n.channel=n.channel||"default"+L++,n.secret=Math.random().toString(16).substring(2),w(a)&&(a=g(o.href)==g(n.remote)?"4":s(e,"postMessage")||s(t,"postMessage")?"1":n.swf&&s(e,"ActiveXObject")&&c()?"6":"Gecko"===navigator.product&&"frameElement"in e&&-1==navigator.userAgent.indexOf("WebKit")?"5":n.remoteHelper?"2":"0");else if(n.channel=G.xdm_c.replace(/["'<>\\]/g,""),n.secret=G.xdm_s,n.remote=G.xdm_e.replace(/["'<>\\]/g,""),a=G.xdm_p,n.acl&&!C(n.acl,n.remote))throw new Error("Access denied for "+n.remote);switch(n.protocol=a,a){case"0":if(b(n,{interval:100,delay:2e3,useResize:!0,useParent:!1,usePolling:!1},!0),n.isHost){if(!n.local){for(var r,l=o.protocol+"//"+o.host,u=t.body.getElementsByTagName("img"),d=u.length;d--;)if(r=u[d],r.src.substring(0,l.length)===l){n.local=r.src;break}n.local||(n.local=e)}var p={xdm_c:n.channel,xdm_p:0};n.local===e?(n.usePolling=!0,n.useParent=!0,n.local=o.protocol+"//"+o.host+o.pathname+o.search,p.xdm_e=n.local,p.xdm_pa=1):p.xdm_e=v(n.local),n.container&&(n.useResize=!1,p.xdm_po=1),n.remote=y(n.remote,p)}else b(n,{channel:G.xdm_c,remote:G.xdm_e,useParent:!w(G.xdm_pa),usePolling:!w(G.xdm_po),useResize:n.useParent?!1:n.useResize});i=[new U.stack.HashTransport(n),new U.stack.ReliableBehavior({}),new U.stack.QueueBehavior({encode:!0,maxLength:4e3-n.remote.length}),new U.stack.VerifyBehavior({initiate:n.isHost})];break;case"1":i=[new U.stack.PostMessageTransport(n)];break;case"2":n.isHost&&(n.remoteHelper=v(n.remoteHelper)),i=[new U.stack.NameTransport(n),new U.stack.QueueBehavior,new U.stack.VerifyBehavior({initiate:n.isHost})];break;case"3":i=[new U.stack.NixTransport(n)];break;case"4":i=[new U.stack.SameOriginTransport(n)];break;case"5":i=[new U.stack.FrameElementTransport(n)];break;case"6":A||c(),i=[new U.stack.FlashTransport(n)]}return i.push(new U.stack.QueueBehavior({lazy:n.lazy,remove:!0})),i}function x(e){for(var t,o={incoming:function(e,t){this.up.incoming(e,t)},outgoing:function(e,t){this.down.outgoing(e,t)},callback:function(e){this.up.callback(e)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},n=0,i=e.length;i>n;n++)t=e[n],b(t,o,!0),0!==n&&(t.down=e[n-1]),n!==i-1&&(t.up=e[n+1]);return t}function S(e){e.up.down=e.down,e.down.up=e.up,e.up=e.down=null}var $,A,E,I,q,P=this,L=Math.floor(1e4*Math.random()),M=Function.prototype,D=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,j=/[\-\w]+\/\.\.\//,O=/([^:])\/\//g,N="",U={},R=e.easyXDM,F="easyXDM_",H=!1;if(s(e,"addEventListener"))I=function(e,t,o){e.addEventListener(t,o,!1)},q=function(e,t,o){e.removeEventListener(t,o,!1)};else{if(!s(e,"attachEvent"))throw new Error("Browser not supported");I=function(e,t,o){e.attachEvent("on"+t,o)},q=function(e,t,o){e.detachEvent("on"+t,o)}}var B,z=!1,W=[];if("readyState"in t?(B=t.readyState,z="complete"==B||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==B||"interactive"==B)):z=!!t.body,!z){if(s(e,"addEventListener"))I(t,"DOMContentLoaded",u);else if(I(t,"readystatechange",function(){"complete"==t.readyState&&u()}),t.documentElement.doScroll&&e===top){var V=function(){if(!z){try{t.documentElement.doScroll("left")}catch(e){return void n(V,1)}u()}};V()}I(e,"load",u)}var G=function(e){e=e.substring(1).split("&");for(var t,o={},n=e.length;n--;)t=e[n].split("="),o[t[0]]=i(t[1]);return o}(/xdm_e=/.test(o.search)?o.search:o.hash),J=function(){var e={},t={a:[1,2,3]},o='{"a":[1,2,3]}';return"undefined"!=typeof JSON&&"function"==typeof JSON.stringify&&JSON.stringify(t).replace(/\s/g,"")===o?JSON:(Object.toJSON&&Object.toJSON(t).replace(/\s/g,"")===o&&(e.stringify=Object.toJSON),"function"==typeof String.prototype.evalJSON&&(t=o.evalJSON(),t.a&&3===t.a.length&&3===t.a[2]&&(e.parse=function(e){return e.evalJSON()})),e.stringify&&e.parse?(J=function(){return e},e):null)};b(U,{version:"2.4.19.3",query:G,stack:{},apply:b,getJSONObject:J,whenReady:d,noConflict:h}),U.DomHelper={on:I,un:q,requiresJSON:function(o){r(e,"JSON")||t.write('<script type="text/javascript" src="'+o+'"></script>')}},function(){var e={};U.Fn={set:function(t,o){e[t]=o},get:function(t,o){if(e.hasOwnProperty(t)){var n=e[t];return o&&delete e[t],n}}}}(),U.Socket=function(e){var t=x(T(e).concat([{incoming:function(t,o){e.onMessage(t,o)},callback:function(t){e.onReady&&e.onReady(t)}}])),o=g(e.remote);this.origin=g(e.remote),this.destroy=function(){t.destroy()},this.postMessage=function(e){t.outgoing(e,o)},t.init()},U.Rpc=function(e,t){if(t.local)for(var o in t.local)if(t.local.hasOwnProperty(o)){var n=t.local[o];"function"==typeof n&&(t.local[o]={method:n})}var i=x(T(e).concat([new U.stack.RpcBehavior(this,t),{callback:function(t){e.onReady&&e.onReady(t)}}]));this.origin=g(e.remote),this.destroy=function(){i.destroy()},i.init()},U.stack.SameOriginTransport=function(e){var t,i,a,s;return t={outgoing:function(e,t,o){a(e),o&&o()},destroy:function(){i&&(i.parentNode.removeChild(i),i=null)},onDOMReady:function(){s=g(e.remote),e.isHost?(b(e.props,{src:y(e.remote,{xdm_e:o.protocol+"//"+o.host+o.pathname,xdm_c:e.channel,xdm_p:4}),name:F+e.channel+"_provider"}),i=_(e),U.Fn.set(e.channel,function(e){return a=e,n(function(){t.up.callback(!0)},0),function(e){t.up.incoming(e,s)}})):(a=p().Fn.get(e.channel,!1)(function(e){t.up.incoming(e,s)}),n(function(){t.up.callback(!0)},0))},init:function(){d(t.onDOMReady,t)}}},U.stack.FlashTransport=function(e){function i(e,t){n(function(){r.up.incoming(e,c)},0)}function s(o){var n=e.swf+"?host="+e.isHost,i="easyXDM_swf_"+Math.floor(1e4*Math.random());U.Fn.set("flash_loaded"+o.replace(/[\-.]/g,"_"),function(){U.stack.FlashTransport[o].swf=u=p.firstChild;for(var e=U.stack.FlashTransport[o].queue,t=0;t<e.length;t++)e[t]();e.length=0}),e.swfContainer?p="string"==typeof e.swfContainer?t.getElementById(e.swfContainer):e.swfContainer:(p=t.createElement("div"),b(p.style,E&&e.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),t.body.appendChild(p));var s="callback=flash_loaded"+a(o.replace(/[\-.]/g,"_"))+"&proto="+P.location.protocol+"&domain="+a(m(P.location.href))+"&port="+a(f(P.location.href))+"&ns="+a(N);p.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+i+"' data='"+n+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+n+"'></param><param name='flashvars' value='"+s+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+s+"' allowScriptAccess='always' wmode='transparent' src='"+n+"' height='1' width='1'></embed></object>"}var r,l,c,u,p;return r={outgoing:function(t,o,n){u.postMessage(e.channel,t.toString()),n&&n()},destroy:function(){try{u.destroyChannel(e.channel)}catch(t){}u=null,l&&(l.parentNode.removeChild(l),l=null)},onDOMReady:function(){c=e.remote,U.Fn.set("flash_"+e.channel+"_init",function(){n(function(){r.up.callback(!0)})}),U.Fn.set("flash_"+e.channel+"_onMessage",i),e.swf=v(e.swf);var t=m(e.swf),a=function(){U.stack.FlashTransport[t].init=!0,u=U.stack.FlashTransport[t].swf,u.createChannel(e.channel,e.secret,g(e.remote),e.isHost),e.isHost&&(E&&e.swfNoThrottle&&b(e.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),b(e.props,{src:y(e.remote,{xdm_e:g(o.href),xdm_c:e.channel,xdm_p:6,xdm_s:e.secret}),name:F+e.channel+"_provider"}),l=_(e))};U.stack.FlashTransport[t]&&U.stack.FlashTransport[t].init?a():U.stack.FlashTransport[t]?U.stack.FlashTransport[t].queue.push(a):(U.stack.FlashTransport[t]={queue:[a]},s(t))},init:function(){d(r.onDOMReady,r)}}},U.stack.PostMessageTransport=function(t){function i(e){if(e.origin)return g(e.origin);if(e.uri)return g(e.uri);if(e.domain)return o.protocol+"//"+e.domain;throw"Unable to retrieve the origin of the event"}function a(e){var o=i(e);o==c&&e.data.substring(0,t.channel.length+1)==t.channel+" "&&s.up.incoming(e.data.substring(t.channel.length+1),o)}var s,r,l,c;return s={outgoing:function(e,o,n){l.postMessage(t.channel+" "+e,o||c),n&&n()},destroy:function(){q(e,"message",a),r&&(l=null,r.parentNode.removeChild(r),r=null)},onDOMReady:function(){if(c=g(t.remote),t.isHost){var i=function(o){o.data==t.channel+"-ready"&&(l="postMessage"in r.contentWindow?r.contentWindow:r.contentWindow.document,q(e,"message",i),I(e,"message",a),n(function(){s.up.callback(!0)},0))};I(e,"message",i),b(t.props,{src:y(t.remote,{xdm_e:g(o.href),xdm_c:t.channel,xdm_p:1}),name:F+t.channel+"_provider"}),r=_(t)}else I(e,"message",a),l="postMessage"in e.parent?e.parent:e.parent.document,l.postMessage(t.channel+"-ready",c),n(function(){s.up.callback(!0)},0)},init:function(){d(s.onDOMReady,s)}}},U.stack.FrameElementTransport=function(i){var a,s,r,l;return a={outgoing:function(e,t,o){r.call(this,e),o&&o()},destroy:function(){s&&(s.parentNode.removeChild(s),s=null)},onDOMReady:function(){l=g(i.remote),i.isHost?(b(i.props,{src:y(i.remote,{xdm_e:g(o.href),xdm_c:i.channel,xdm_p:5}),name:F+i.channel+"_provider"}),s=_(i),s.fn=function(e){return delete s.fn,r=e,n(function(){a.up.callback(!0)},0),function(e){a.up.incoming(e,l)}}):(t.referrer&&g(t.referrer)!=G.xdm_e&&(e.top.location=G.xdm_e),r=e.frameElement.fn(function(e){a.up.incoming(e,l)}),a.up.callback(!0))},init:function(){d(a.onDOMReady,a)}}},U.stack.NameTransport=function(e){function t(t){var o=e.remoteHelper+(r?"#_3":"#_2")+e.channel;l.contentWindow.sendMessage(t,o)}function o(){r?2!==++u&&r||s.up.callback(!0):(t("ready"),s.up.callback(!0))}function i(e){s.up.incoming(e,h)}function a(){p&&n(function(){p(!0)},0)}var s,r,l,c,u,p,h,m;return s={outgoing:function(e,o,n){p=n,t(e)},destroy:function(){l.parentNode.removeChild(l),l=null,r&&(c.parentNode.removeChild(c),c=null)},onDOMReady:function(){r=e.isHost,u=0,h=g(e.remote),e.local=v(e.local),r?(U.Fn.set(e.channel,function(t){r&&"ready"===t&&(U.Fn.set(e.channel,i),o())}),m=y(e.remote,{xdm_e:e.local,xdm_c:e.channel,xdm_p:2}),b(e.props,{src:m+"#"+e.channel,name:F+e.channel+"_provider"}),c=_(e)):(e.remoteHelper=e.remote,U.Fn.set(e.channel,i));var t=function(){var i=l||this;q(i,"load",t),U.Fn.set(e.channel+"_load",a),function s(){"function"==typeof i.contentWindow.sendMessage?o():n(s,50)}()};l=_({props:{src:e.local+"#_4"+e.channel},onLoad:t})},init:function(){d(s.onDOMReady,s)}}},U.stack.HashTransport=function(t){function o(e){if(f){var o=t.remote+"#"+h++ +"_"+e;(l||!v?f.contentWindow:f).location=o}}function i(e){p=e,r.up.incoming(p.substring(p.indexOf("_")+1),y)}function a(){if(m){var e=m.location.href,t="",o=e.indexOf("#");-1!=o&&(t=e.substring(o)),t&&t!=p&&i(t)}}function s(){c=setInterval(a,u)}var r,l,c,u,p,h,m,f,v,y;return r={outgoing:function(e,t){o(e)},destroy:function(){e.clearInterval(c),(l||!v)&&f.parentNode.removeChild(f),f=null},onDOMReady:function(){if(l=t.isHost,u=t.interval,p="#"+t.channel,h=0,v=t.useParent,y=g(t.remote),l){if(b(t.props,{src:t.remote,name:F+t.channel+"_provider"}),v)t.onLoad=function(){m=e,s(),r.up.callback(!0)};else{var o=0,i=t.delay/50;!function a(){if(++o>i)throw new Error("Unable to reference listenerwindow");try{m=f.contentWindow.frames[F+t.channel+"_consumer"]}catch(e){}m?(s(),r.up.callback(!0)):n(a,50)}()}f=_(t)}else m=e,s(),v?(f=parent,r.up.callback(!0)):(b(t,{props:{src:t.remote+"#"+t.channel+new Date,name:F+t.channel+"_consumer"},onLoad:function(){r.up.callback(!0)}}),f=_(t))},init:function(){d(r.onDOMReady,r)}}},U.stack.ReliableBehavior=function(e){var t,o,n=0,i=0,a="";return t={incoming:function(e,s){var r=e.indexOf("_"),l=e.substring(0,r).split(",");e=e.substring(r+1),l[0]==n&&(a="",o&&o(!0)),e.length>0&&(t.down.outgoing(l[1]+","+n+"_"+a,s),i!=l[1]&&(i=l[1],t.up.incoming(e,s)))},outgoing:function(e,s,r){a=e,o=r,t.down.outgoing(i+","+ ++n+"_"+e,s)}}},U.stack.QueueBehavior=function(e){function t(){if(e.remove&&0===r.length)return void S(o);if(!l&&0!==r.length&&!s){l=!0;var i=r.shift();o.down.outgoing(i.data,i.origin,function(e){l=!1,i.callback&&n(function(){i.callback(e)},0),t()})}}var o,s,r=[],l=!0,c="",u=0,d=!1,p=!1;return o={init:function(){w(e)&&(e={}),e.maxLength&&(u=e.maxLength,p=!0),e.lazy?d=!0:o.down.init()},callback:function(e){l=!1;var n=o.up;t(),n.callback(e)},incoming:function(t,n){if(p){var a=t.indexOf("_"),s=parseInt(t.substring(0,a),10);c+=t.substring(a+1),0===s&&(e.encode&&(c=i(c)),o.up.incoming(c,n),c="")}else o.up.incoming(t,n)},outgoing:function(n,i,s){e.encode&&(n=a(n));var l,c=[];if(p){for(;0!==n.length;)l=n.substring(0,u),n=n.substring(l.length),c.push(l);for(;l=c.shift();)r.push({data:c.length+"_"+l,origin:i,callback:0===c.length?s:null})}else r.push({data:n,origin:i,callback:s});d?o.down.init():t()},destroy:function(){s=!0,o.down.destroy()}}},U.stack.VerifyBehavior=function(e){function t(){n=Math.random().toString(16).substring(2),o.down.outgoing(n)}var o,n,i;return o={incoming:function(a,s){var r=a.indexOf("_");-1===r?a===n?o.up.callback(!0):i||(i=a,e.initiate||t(),o.down.outgoing(a)):a.substring(0,r)===i&&o.up.incoming(a.substring(r+1),s)},outgoing:function(e,t,i){o.down.outgoing(n+"_"+e,t,i)},callback:function(o){e.initiate&&t()}}},U.stack.RpcBehavior=function(e,t){function o(e){e.jsonrpc="2.0",a.down.outgoing(s.stringify(e))}function n(e,t){var n=Array.prototype.slice;return function(){var i,a=arguments.length,s={method:t};a>0&&"function"==typeof arguments[a-1]?(a>1&&"function"==typeof arguments[a-2]?(i={success:arguments[a-2],error:arguments[a-1]},s.params=n.call(arguments,0,a-2)):(i={success:arguments[a-1]},s.params=n.call(arguments,0,a-1)),c[""+ ++r]=i,s.id=r):s.params=n.call(arguments,0),e.namedParams&&1===s.params.length&&(s.params=s.params[0]),o(s)}}function i(e,t,n,i){if(!n)return void(t&&o({id:t,error:{code:-32601,message:"Procedure not found."}}));var a,s;t?(a=function(e){a=M,o({id:t,result:e})},s=function(e,n){s=M;var i={id:t,error:{code:-32099,message:e}};n&&(i.error.data=n),o(i)}):a=s=M,l(i)||(i=[i]);try{var r=n.method.apply(n.scope,i.concat([a,s]));w(r)||a(r)}catch(c){s(c.message)}}var a,s=t.serializer||J(),r=0,c={};return a={incoming:function(e,n){var a=s.parse(e);if(a.method)t.handle?t.handle(a,o):i(a.method,a.id,t.local[a.method],a.params);else{var r=c[a.id];a.error?r.error&&r.error(a.error):r.success&&r.success(a.result),delete c[a.id]}},init:function(){if(t.remote)for(var o in t.remote)t.remote.hasOwnProperty(o)&&(e[o]=n(t.remote[o],o));a.down.init()},destroy:function(){for(var o in t.remote)t.remote.hasOwnProperty(o)&&e.hasOwnProperty(o)&&delete e[o];a.down.destroy()}}},P.easyXDM=U}(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent),define("fly/libs/easy-xdm-2.4.19.3",function(){}),define("fly/libs/jquery.throttle-debounce-1.1",["jquery"],function(e){"$:nomunge";var t;e.throttle=t=function(t,o,n,i){function a(){function e(){r=+new Date,n.apply(l,u)}function a(){s=void 0}var l=this,c=+new Date-r,u=arguments;i&&!s&&e(),s&&clearTimeout(s),void 0===i&&c>t?e():o!==!0&&(s=setTimeout(i?a:e,void 0===i?t-c:t))}var s,r=0;return"boolean"!=typeof o&&(i=n,n=o,o=void 0),e.guid&&(a.guid=n.guid=n.guid||e.guid++),a},e.debounce=function(e,o,n){return void 0===n?t(e,o,!1):t(e,n,o!==!1)}}),define("fly/components/iframe-messenger-1.0",["jquery","version!fly/utils/url-helper","version!fly/managers/debug","version!fly/components/base","version!fly/libs/easy-xdm","version!fly/libs/jquery.throttle-debounce"],function(e,t,o){window.fly=window.fly||{},window.fly.easyXDM=easyXDM.noConflict("fly");var n=o.get("iframeMessenger");e.widget("fly.iframeMessenger",e.fly.base,{options:{remoteUrl:null,resizeOnReady:!0,receivableMessages:{}},isProvider:null,_create:function(){var o=this,n=this.options;this._setup(),this.isProvider=t.getParam("xdm_e")?!0:!1,n.remoteUrl?this.socket=new window.fly.easyXDM.Socket({remote:n.remoteUrl,container:this.$element[0],onMessage:e.proxy(this._onMessage,this)}):this.isProvider&&(this.socket=new window.fly.easyXDM.Socket({isHost:!1,onReady:e.proxy(this._onReady,this),onMessage:e.proxy(this._onMessage,this)}),this.$document.on("displayChange",function(){o.postMessage("resize")}))},_initWindowResize:function(){var t=this,o=e(window);this.width=o.width(),o.resize(e.throttle(150,function(){var o=e(window).width();t.width!==o&&(t.postMessage("resize"),t.width=o)}))},_onReady:function(){this.postMessage("ready",null,!0),this._initWindowResize()},_onMessage:function(e,t){var o,i=this.options;e=JSON.parse(e)||{},!this.isProvider&&e.size&&e.size.height&&(o=this.$element.find("iframe"),"ready"===e.name?(o.animate({height:e.size.height},"fast"),this.$element.height(e.size.height)):(this.$element.height(e.size.height),o.height(e.size.height))),n.log("messageRecieved: ",e,"handler: ",i.receivableMessages[e.name]),i.receivableMessages[e.name]&&i.receivableMessages[e.name](e.data,t)},postMessage:function(t,o,i){i=i||!1;var a,s=this,r=(i||"resize"===t)&&this.isProvider?!0:!1,l={name:t,data:o};s.socket&&(r&&e.extend(!0,l,{size:{height:e(document.body).height()}}),a=JSON.stringify(l),n.log("postMessage: ",a),s.socket.postMessage(a))}})}),define("translations/form-validate",["managers/edition"],function(e){var t={en:{required:{field:"This field is required",radio:"One of these fields is required"},availableEmail:"Este email esta en uso.  Elige otro.",availableUsername:"This user name is already in use. Please choose another.",validPassword:"The password must be a minimum 6 characters, including at least 1 special character or number.",minlength:"This field must be at least {minlength} characters",maxlength:"This field must be no more than {maxlength} characters",email:"E-mail format invalid.",noUrl:"A url is not allowed in this field",noSpecialCharacters:"The special characters @, &, and % are not allowed in this field",equalTo:"Fields do not match",usernameSpecialCharacters:'Please use only alphanumeric characters, underscores "_", and dashes "-"',usernameCharacterLength:"Your username must be at least 3 and no more than 25 characters.",atLeastOneAlphanumeric:"You must include at least one alphanumeric character"},es:{required:{field:"Campo requerido",radio:"One of these fields is required"},availableEmail:"This e-mail address is already in use. Please choose another.",availableUsername:"Este nombre de usuario ya esta en uso.",validPassword:"La contraseña debe incluir por lo menos 6 caracteres y un caracter debe ser especial o debe incluir un número.",minlength:"Este campo debe tener al menos {minlength} caracteres",maxlength:"This field must be no more than {maxlength} characters",email:"Por favor escribe un email válido.  Ejemplo:  johndoe@mail.com",noUrl:"A url is not allowed in this field",noSpecialCharacters:"The special characters @, &, and % are not allowed in this field",equalTo:"Fields do not match",usernameSpecialCharacters:'Por favor, usa solamente caracteres alfanuméricos, guiones bajos "_", y guiones "-"',usernameCharacterLength:"Tu nombre de usuario debe tener un mínimo de 3 caracteres y un máximo de 25.",atLeastOneAlphanumeric:"You must include at least one alphanumeric character"}};return t[e.getLanguage()]}),define("fly/components/form-validate-1.0",["jquery","version!fly/utils/string-helper","version!fly/utils/string-vars","version!fly/managers/debug","version!fly/components/base"],function(e,t,o,n){var i=e.support.touch?"vclick":"click",a=n.init("formValidate");e.widget("fly.formValidate",e.fly.base,{options:{inlineErrorTemplate:'<label for="{id}" class="validate-{type}">{message}</label>',globalErrorTemplate:'<div class="alert alert-{type}">{message}</div>',classFieldStatus:"validate-{type}",animation:"slide",fieldSelector:'[data-item="field"]',ignoreHidden:!0,ignoreSelector:null,validateOnChange:!0,scrollToErrors:!1,attributes:["required","maxlength","minlength"],rules:{},success:function(e,t){t.$form.submit()},failure:function(e,t){},placeError:function(e,t){t.is(":checkbox, :radio")&&t.parent("label").length?e.insertAfter(t.parent("label")):e.insertAfter(t)}},rules:{required:{message:function(e){return e.is(":radio")?"One of these fields is required":"This field is required"},test:function(e){var t,o;return e.is(":radio")?(t=e.closest("form").find(':radio[name="'+e.attr("name")+'"]'),t.is(":checked")):(o=e.is(":checkbox")?e.is(":checked"):e.val(),o?!0:!1)}},mailcheck:{type:"warning",message:null,test:function(e,t){var o=this,n=e.closest("form");return require(["fly/libs/mailcheck-1.1"],function(){e.mailcheck({suggested:function(a,s){o.message='Did you mean <a class="mailcheck" data-_insert="mailcheck">'+s.domain+"</a>?",n.on(i+".mailcheck",'[data-_insert="mailcheck"]',function(){e.val(s.full).trigger("change")}),t.reject("mailcheck")},empty:function(e){n.off(".mailcheck"),t.resolve()}})}),t.promise()}},availableEmail:{remote:!0,message:"Email is already in use"},availableUsername:{remote:!0,message:"User Name is already in use"},minlength:{message:function(e){return"This field must be at least "+e.attr("minlength")+" characters"},test:function(e){return e.val().length>=e.attr("minlength")}},maxlength:{message:function(e){return"This field must be no more than "+e.attr("maxlength")+" characters"},test:function(e){return e.val().length<=e.attr("maxlength")}},email:{message:"Please enter a valid email",test:function(e){return/^[A-Z0-9._%+\-]+@[A-Z0-9.\-]+\.[A-Z]{2,4}$/i.test(e.val())}},noUrl:{message:"A url is not allowed in this field",test:function(e){return!/http:\/\//i.test(e.val())}},noSpecialCharacters:{message:"The special characters @, &, and % are not allowed in this field",test:function(e){return/^[^@&%]+$/i.test(e.val())}},equalTo:{message:"Fields do not match",test:function(t){var o=e('input[name="'+t.data("validate-equal-to")+'"]');return o.length&&t.val()===o.val()}}},wasSubmitted:!1,isWorking:!1,isFormValid:!1,_create:function(){var e=this.options,t={};this._setup(),this.$form=this.$element,this.$form.attr("novalidate","novalidate"),this.globalErrors=[],this.ignoreSelector=":submit, :reset, :image, [disabled]",e.ignoreHidden&&(this.ignoreSelector+=", :hidden"),e.ignoreSelector&&(this.ignoreSelector+=", "+e.ignoreSelector),this.addRules(e.rules),this._on(this.$form,{submit:"_handleSubmit"}),e.validateOnChange&&(t["focusout :input:not("+this.ignoreSelector+", [data-_enabled])"]="_handleFocusOut",t["keyup :input:not("+this.ignoreSelector+", [readonly])"]="_handleChange",t["change :input:not("+this.ignoreSelector+")"]="_handleChange",this._on(this.$form,t))},_handleSubmit:function(e){this._off(this.$form,"focusout"),this.wasSubmitted=!0,this.isFormValid||(e.preventDefault(),e.stopImmediatePropagation(),this.validate())},_handleFocusOut:function(t){var o=e(t.target);o.attr("data-_enabled","true"),this._handleChange(t)},_handleChange:function(t){var o=e(t.target);this.isFormValid=!1,(this.wasSubmitted||o.data("_enabled"))&&(o.data("_passed",!1),this.testField(o))},getRule:function(e){return"undefined"!=typeof this.rules[e]?this.rules[e]:!1},getRulesToValidate:function(t){var o=this,n=t.data("validate")||[],i=e.isArray(n)?n:n.split(" ");return e.each(this.options.attributes,function(e,o){t.attr(o)&&i.unshift(o)}),e.grep(i,function(e,t){return o.getRule(e)})},addRules:function(t){e.isPlainObject(t)&&e.extend(this.rules,t)},removeRule:function(e){this.getRule(e)!==!1&&delete this.rules[e]},setFieldDelegate:function(e){var t=null;return e.is(":radio")&&(t=this.$form.find(':radio[name="'+e.attr("name")+'"]').first()),e.data("_field_delegate",t),e},testField:function(t){var o,n=this,i=[],s=t.data()||{},r=s.error||{},l=e.Deferred();return s._passed?(l.resolve(),l.promise()):(this.setFieldDelegate(t),s.remoteRequest&&s.remoteRequest.abort(),o=this.getRulesToValidate(t),a.log("test field: ",t," w/ rules:",o),e.each(o,function(o,s){var l,c=n.getRule(s),u=!0,d=c.remote?!0:!1,p=null;return d&&(p=c.remoteUrl||t.data("remoteUrl"),n.removeError(t)),l=function(){var o=e.Deferred(),i=null;return i=d?n.requestRemote(p,t,s,o):c.test(t,o),i===!1?(u=!1,o.reject(s)):i===!0&&o.resolve(s),o.promise()},l=l(),i.push(l),e.when(l).fail(function(){a.log("rule failed: ",s,t)}).then(function(){r.name===s&&n.removeError(t),a.log("rule passed: ",s,t)}),u?void 0:!1}),e.when.apply(null,i).fail(function(e){var o=n.getRule(e),i=o.type?o.type:"error",s=t.data(),r=s.error||{};s.remoteTimeout&&clearTimeout(s.remoteTimeout),s.remoteRequest&&s.remoteRequest.abort(),r.message!=n.getMessage(e,t)&&(n.removeError(t),n.addInlineError(t,e)),"error"!==i?(l.resolve(),a.log("field passed: ",t," type: ",i)):(l.reject(),a.log("field failed: ",t))}).then(function(){t.data("_passed",!0),n.removeError(t),l.resolve(),a.log("field passed: ",t)}),l.promise())},requestRemote:function(t,o,n,i){var a={},s=null,r=null,l=o.data()||{};l.remoteTimeout&&(clearTimeout(l.remoteTimeout),l.remoteQueue.resolve(n)),a[o.attr("name")]=o.val(),r=setTimeout(function(){s=e.ajax({type:"POST",dataType:"json",url:t,data:a,timeout:5e3,success:function(t){switch(t){case!0:i.resolve(n);break;case!1:i.reject(n);break;default:e.isPlainObject(t)&&t.status?"success"===t.status?i.resolve(n):i.reject(n):i.resolve(n)}},complete:function(){o.data("remoteRequest",null)},error:function(e,t){i.resolve(n),o.data("_passed",!1)}}),o.data({remoteRequest:s,remoteQueue:null,remoteTimeout:null})},300),o.data({remoteQueue:i,remoteTimeout:r})},validate:function(){var t=this.options,o=this,n=[];this.isWorking||this._trigger("validate")!==!1&&(this.isWorking=!0,this.removeGlobalErrors(),this.$form.find(":input").not(this.ignoreSelector).each(function(){var t=e(this);n.push(o.testField(t))}),e.when.apply(null,n).fail(function(){a.log("validate failed"),o._trigger("failure",null,{$form:o.$form}),t.scrollToErrors&&o.scrollToErrors()}).then(function(){a.log("validate success"),o.isFormValid=!0,o._trigger("success",null,{$form:o.$form}),o.isFormValid=!1}).always(function(){o._trigger("validated"),o.isWorking=!1}))},scrollToErrors:function(){var t=this.options,o=this.$form.find("[data-validate-error]").first(),n=o.closest(t.fieldSelector),i=(n.length?n:o).offset().top;this._trigger("scroll",null,{offset:i})!==!1&&(i-=this.$window.height()/6,e("html, body").animate({scrollTop:i},"fast"))},removeError:function(t){t=t.data("_field_delegate")||t;var o=this,n=this.options,i=t.data("error");i&&("slide"===n.animation?i.$error.slideUp("fast",function(){e(this).remove(),o._completeRemoveError(i,t)}):(t.remove(),this._completeRemoveError(i,t)),t.removeClass(i.fieldClass).removeData("error"))},getMessage:function(t,o){var n=this.getRule(t),i=o.data("validate-message-"+t)||o.data("validate-message-"+t.toLowerCase());return i||i===!1||(i=e.isFunction(n.message)?n.message(o):n.message),i},addInlineError:function(t,n){t=t.data("_field_delegate")||t;var i,a,s,r,l=this,c=this.options,u=t.data("error")||{},d={name:n,position:"inline"};"error"!==u.type&&(s=this.getMessage(n,t),i=this.getRule(n),a=i.type||"error",r=o.compile(c.inlineErrorTemplate,{type:a,id:t.attr("id"),message:s}),e.extend(d,{type:a,message:s,$error:e(r).attr("data-validate-error",!0),fieldClass:o.compile(this.options.classFieldStatus,{type:a})}),t.addClass(d.fieldClass).data("error",d),s!==!1&&("slide"===c.animation?(d.$error=e("<div />").wrapInner(d.$error),d.$error.hide(),c.placeError.call(this,d.$error,t),d.$error.slideDown("fast",function(){l._completeAddError(d,t)})):(c.placeError.call(this,d.$error,t),this._completeAddError(d,t))))},addGlobalError:function(t,n){n=n||"error";var i,a=this,s=this.options,r={position:"global",type:n,message:t};i=o.compile(s.globalErrorTemplate,{type:n,message:t}),e.extend(r,{$error:e(i).attr("data-validate-error",!0)}),"slide"===s.animation?(r.$error=e("<div />").wrapInner(r.$error),r.$error.hide().prependTo(this.$form).slideDown("fast",function(){a._completeAddError(r)})):(this.$form.prepend(r.$error),this._completeAddError(r)),this.globalErrors.push(r)},removeGlobalErrors:function(){var t=this;e.each(this.globalErrors,function(e,o){o.$error.remove(),t._completeRemoveError(o)})},removeInlineErrors:function(){var t=this;this.$form.find("[data-validate-error]").each(function(){var o=e(this),n=o.data();n.error&&t.removeError(o),n.remoteRequest&&n.remoteRequest.abort()})},_completeAddError:function(t,o){this._trigger("errorAdded",null,e.extend(t,{$field:o})),this.$document.trigger("displayChange",{type:"errorAdded"})},_completeRemoveError:function(t,o){this._trigger("errorRemoved",null,e.extend(t,{$field:o})),this.$document.trigger("displayChange",{type:"errorRemoved"})},_disable:function(){this.removeGlobalErrors(),this.removeInlineErrors()},_destroy:function(){this._disable()}})}),define("components/form-validate",["jquery","version!fly/managers/debug","translations/form-validate","version!fly/utils/string-vars","version!fly/components/form-validate"],function(e,t,o,n){var i=e.support.touch?"vclick":"click";t.init("formValidate"),e.widget("cnet.formValidate",e.fly.formValidate,{rules:{required:{message:function(e){return e.is(":radio")?o.required.radio:o.required.field}},mailcheck:{message:null,test:function(e,t){var o=this,n=e.closest("form");return require(["libs/mailcheck-1.1"],function(){e.mailcheck({suggested:function(a,s){s.domain?o.message='Did you mean <a class="mailcheck" data-_insert="mailcheck">'+s.domain+"</a>?":s.error&&(o.message="Please double check your email address."),n.on(i+".mailcheck",'[data-_insert="mailcheck"]',function(){e.val(s.full).trigger("change")}),t.reject("mailcheck")},empty:function(e){n.off(".mailcheck"),t.resolve()},topLevelDomains:["com","org","net","int","edu","gov","mil","arpa","co.uk"]})}),t.promise()}},availableEmail:{message:o.availableEmail},availableUsername:{message:o.availableUsername},validPassword:{message:o.validPassword,test:function(e){return/[0-9\(\)\.@`!#\$%\^&*+=\-\[\]\\';,/\{\}\|":<>\?~_]+/.test(e.val())&&e.val().length>5}},minlength:{message:function(e){
return n.compile(o.minlength,{minlength:e.attr("minlength")})}},maxlength:{message:function(e){return n.compile(o.maxlength,{maxlength:e.attr("maxlength")})}},email:{message:o.email,test:function(e){return/^[A-Z0-9._%+\-]+@[A-Z0-9.\-]+\.[A-Z]{2,}$/i.test(e.val())}},noUrl:{message:o.noUrl},noSpecialCharacters:{message:o.noSpecialCharacters},equalTo:{message:o.equalTo},usernameSpecialCharacters:{message:o.usernameSpecialCharacters,test:function(e){return/^[a-z0-9\-_]*$/i.test(e.val())}},usernameCharacterLength:{message:o.usernameCharacterLength,test:function(e){var t=e.val().length;return t>=3&&25>=t}},atLeastOneAlphanumeric:{message:o.atLeastOneAlphanumeric,test:function(e){return/.*[a-z0-9]+.*/i.test(e.val())}}},addInlineError:function(t,o){t=t.data("_field_delegate")||t;var i,a,s,r,l=this.options,c=t.data("error")||{},u={name:o,position:"inline"};"error"!==c.type&&(s=this.getMessage(o,t),i=this.getRule(o),a=i.type||"error",r=n.compile(l.inlineErrorTemplate,{type:a,id:t.attr("id"),message:s}),e.extend(u,{type:a,message:s,$error:e(r).attr("data-validate-error",!0),fieldClass:n.compile(this.options.classFieldStatus,{type:a})}),t.addClass(u.fieldClass).data("error",u),s!==!1&&("slide"===l.animation?(u.$error=e("<div />").wrapInner(u.$error),l.placeError.call(this,u.$error,t),this._completeAddError(u,t)):(l.placeError.call(this,u.$error,t),this._completeAddError(u,t))))},removeError:function(e){e=e.data("_field_delegate")||e;var t=this.options,o=e.data("error");o&&("slide"===t.animation?o.$error.remove():(e.remove(),this._completeRemoveError(o,e)),e.removeClass(o.fieldClass).removeData("error"),this._completeRemoveError(o,e))}})}),define("components/user-form",["jquery","utils/cookie","version!fly/managers/debug","translations/user-form","utils/urs-helper","version!fly/components/base","version!fly/components/iframe-messenger","components/form-validate","urs"],function(e,t,o,n,i){o=o.init("userForm"),e.widget("cnet.userForm",e.fly.base,{options:{cookieUserRecognized:"urs_social_recognized"},messenger:e.fly.iframeMessenger(),_create:function(){var t=this;this._setup(),this._initSocialRecognition(),e(document).ready(function(){t._setupEvents(),t._initForm()})},_setupEvents:function(){var t=this;e("[data-user-show]").on("click",function(o){o.preventDefault();var n=e(this).data("userShow");t.messenger.postMessage("showModal",{modal:n.action,params:n.params},!0)}),e("[data-user-social]").on("click",function(o){o.preventDefault();var n=e(this).data("userSocial"),a=i.getUrs(i.getSocialAppId(n.params.appId),t._setupSocialEvents.bind(t));if("login"===n.action)a.social.authenticate(n.socialSite);else if("register"===n.action){var s=e("#user_tos");if(0===s.length||s.prop("checked"))a.social.authenticate(n.socialSite,!0);else{var r=e("form").data("formValidate");r.testField(s)}}})},_setupSocialEvents:function(e){var t=this;e.common.addEventListener(URS.events.AUTH_COMPLETE,function(e,o){delete e.target,t.messenger.postMessage("socialAuthComplete",{event:e,apiResponse:o})})},_initForm:function(){var t=this,o=e("form").first(),a=o.data("user-submit");o.formValidate({validateOnChange:!0,success:function(s){s.preventDefault();var r=o.data("formValidate"),l=o.serializeArray();if(t.messenger.postMessage("submit",{action:a}),"social-additional-information"===o.attr("id")){for(var c=null,u=null,d={},p=0;p<l.length;p++)"appId"===l[p].name?c=l[p].value:"redirectUrl"===l[p].name||("socialSite"===l[p].name?u=l[p].value:d[l[p].name]=l[p].value);if(c&&u){var h=i.getUrs(i.getSocialAppId(c),t._setupSocialEvents.bind(t));h.social.authenticate(u,!0,d)}}else l.push({name:"viewType",value:"json"}),e.ajax({url:o.attr("action"),data:e.param(l),type:"POST"}).done(function(o){o=o||{},"success"===o.status?t.messenger.postMessage(a+"Success",o):"failure"===o.status&&(o.messages&&o.messages.error&&e.each(o.messages.error.reverse(),function(e,t){r.addGlobalError(t,"error")}),t.messenger.postMessage(a+"Failure",o))}).fail(function(e,o){r.addGlobalError(n.globalError,"error"),t.messenger.postMessage(a+"LoadFailure",e)}).always(function(){t.messenger.postMessage("submitted",{action:a}),t.messenger.postMessage(a+"Submitted")})},failure:function(e){t.messenger.postMessage("validation_failed",{},!0)},errorAdded:function(e){t.messenger.postMessage("validation_failed",{},!0)},errorRemoved:function(e){t.messenger.postMessage("validation_passed",{},!0)}})},_initSocialRecognition:function(){var o=this,n=JSON.parse(t.read(this.options.cookieUserRecognized)),i=e(".unrecognized"),a=e(".recognized");n?(i.hide(),a.show(),e("[data-user-template]",a).each(function(t,o){var i=e(o);"name"===i.data("userTemplate")&&i.text(n.username)}),e("[data-user-social]",a).each(function(t,o){var i=e(o),a=i.data("userSocial");i.data("userSocial",e.extend(!0,a,{socialSite:n.socialSite})),i.addClass(n.socialSite),e(".logo",i).text(n.socialSite)}),e("[data-user-action]",a).on("click",function(t){"differentNetwork"===e(this).data("userAction")&&(e.removeCookie(o.options.cookieUserRecognized,{path:"/",domain:".cnet.com"}),a.hide(),i.show())})):(i.show(),a.hide())}})}),define("managers/user",["jquery","version!fly/utils/url-helper","components/user-controller","components/user-form"],function(e,t){var o=null;return o=t.getParam("xdm_e")?e.cnet.userForm():e.cnet.userController()}),define("translations/modal-email",["managers/edition"],function(e){var t={en:{confirmation:"Your e-mail was sent successfully!",incorrectCaptcha:"The response you entered was incorrect.  Please try again."},es:{confirmation:"Tu email fue enviado exitosamente!",incorrectCaptcha:"La Captcha no es correcta. Por favor, inténtalo otra vez."}};return t[e.getLanguage()]}),define("components/modal-email",["jquery","version!fly/managers/debug","version!fly/managers/components","managers/edition","managers/user","translations/modal-email","components/global-modal","components/loading","version!fly/components/form-validate"],function(e,t,o,n,i,a){t=t.init("modalEmail"),e.widget("cnet.modalEmail",e.cnet.globalModal,{options:{emailType:"friend",pageTitle:function(){return document.title},pageUrl:function(){return window.location.href},recipientId:null,recipientName:"",messageThankYou:a.confirmation},emailTypes:{friend:{url:{us:"/email/friend/",uk:"/uk/email/friend/",au:"/au/email/friend/",es:"/es/email/friend/"},requireUsername:!1},member:{url:{us:"/email/member/",uk:"/uk/email/member/",au:"/au/email/member/",es:"/es/email/member/"},requireUsername:!0},editor:{url:{us:"/email/editor/",uk:"/uk/email/editor/",au:"/au/email/editor/",es:"/es/email/editor/"},requireUsername:!1},flag:{url:{us:"/email/flag/",uk:"/uk/email/flag/",au:"/au/email/flag/",es:"/es/email/flag/"},requireUsername:!0},video:{url:{us:"/email/video-feedback/",uk:"/uk/email/video-feedback/",au:"/au/email/video-feedback/",es:"/es/email/video-feedback/"},requireUsername:!1}},errorMessages:{"cnet.notsent":"There was an error attempting to send your e-mail.  Please try again.","cnet.nousername":"You must have a valid username to send an e-mail.","cnet.notloggedin":"You must be logged in to send an e-mail.","cnet_recaptcha.incorrect-captcha-sol":a.incorrectCaptcha,"cnet_recaptcha.missing-input-response":a.incorrectCaptcha},_create:function(){this._super(),this.setContent('<a class="close" data-close="modal"></a>'),this._setupLoader()},_setupLoader:function(){this.loader=e.cnet.loading(),this.loader.$element.addClass("modal-content")},open:function(){var e=this,t=this.emailTypes[this.options.emailType];this.isOpen||(t.requireUsername?(i._loadUserData(),i.isLoggedIn?(i.hasAccess({requireUsername:!0,nextAction:function(o){e._openEmailType(t)}}),e._super()):i.showModal("login",{appId:this.options.appId})):(this._openEmailType(t),e._super()))},_openEmailType:function(t){var i=this;this.setContent(""),this.loader.$element.appendTo(this.$element),this.loader.add(),e.ajax({url:t.url[n.getEdition()],data:this.options.recipientId?{regId:this.options.recipientId}:null,dataType:"text"}).done(function(t){i.loader.remove(),i.setContent(t),i.position(),i._setupEvents(),e("[data-email-var]",i.$element).each(function(t,o){var n=e(o),a=n.data("emailVar");"pageTitle"===a?n.text(i.options.pageTitle):"recipientName"===a&&n.text(i.options.recipientName)}),e('input[name="emailFriend[pageTitle]"]',i.$element).val(i.options.pageTitle);var n="string"==typeof i.options.pageUrl?i.options.pageUrl:i.options.pageUrl();if(e('input[name="emailFriend[pageUrl]"]',i.$element).val(n.replace(/^http:\/\//i,"")),"video"===i.options.emailType){var a=e('[data-component="cnetVideo"], [data-component="cnetVideoUvp"]'),s=a.length>0?a[a.data("component")]("getVideoInfo"):'{debug: "Not available"}';e('input[name="videoFeedback[debugInfo]"]',i.$element).val(e.param(JSON.parse(s))),e('input[name="videoFeedback[pageTitle]"]',i.$element).val(i.options.pageTitle),e('input[name="videoFeedback[pageUrl]"]',i.$element).val(i.options.pageUrl)}o.process(i.$element)}).always(function(){i.loader.remove()})},_setupEvents:function(){var t=this,o=e("form",this.$element),n=e('[data-component="recaptcha"], .g-recaptcha',t.$element),i=e('[data-email-var="error"]',o);o.formValidate({success:function(a){a.preventDefault(),e.ajax({url:o.attr("action"),data:o.serialize()}).done(function(e){"success"===e.status?(o.html(t.options.messageThankYou),t.position()):(e.errors?i.text(e.errors[0]):i.text(t.errorMessages[e.message]),n.recaptcha("reload"))})}})}}),e(document).on("click.modalEmail-api.data-api",'[data-open="modalEmail"]',function(t){var o,n=e(this),i=n.data(),a=i.$modal;t.preventDefault(),a?a.open():(o=n.data("modalEmailOptions")||n.dataPrefix("modalEmail"),n.data("$modal",e.cnet.modalEmail(e.extend(o,{openOnInit:!0,destroy:function(){n.data("$modal",null)}}))))})}),define("components/header-menu",["jquery","version!fly/managers/debug","version!fly/managers/components","version!fly/components/base"],function(e,t,o){t=t.init("headerMenu");var n="undefined"!=typeof Storage,i=null,a={};e.widget("cnet.headerMenu",e.fly.base,{options:{},_create:function(){this._super();var t=this;t._showMenu(t.$element.attr("data-ajax")+"-default"),t.$element.find("[data-ajax]").mouseenter(function(){t._showMenu(e(this).attr("data-ajax"))}),t.$element.mouseleave(function(){t._showMenu(t.$element.attr("data-ajax")+"-default")})},_showMenu:function(s){i=s,this.$element.find(".active").removeClass("active");var r=this.$element.find("[data-menu="+i+"]"),l=this.$element.parents("[data-endpoint]").attr("data-endpoint");0===r.length?n&&sessionStorage.getItem(i)?(t.log("Loading "+i+" from session storage"),this.$element.append(sessionStorage.getItem(i)),o.process(this.$element.find("[data-menu="+i+"]"))):a[i]||(a[i]=!0,e.ajax({url:l+"?endpoint=%2Fapi%2Fcomponent%2Fcomponent%2Fheader-"+i+"&view=header_listing&familyName=listing&typeName=listing",dataType:"json",context:{menuWidget:this,menuAttr:i}}).done(this._onSuccess).fail(this._onError)):(t.log("Loading "+i+" from dom"),r.addClass("active"))},_onSuccess:function(a){t.log("Loading "+this.menuAttr+" from api");var s=e(e.parseHTML(e.trim(a.component.html))).attr("data-menu",this.menuAttr);this.menuWidget.$element.find(".active").removeClass("active"),this.menuWidget.$element.append(s),o.process(this.menuWidget.$element.find("[data-menu="+i+"]")),n&&sessionStorage.setItem(this.menuAttr,s.get(0).outerHTML)},_onError:function(){a[this.menuAttr]=!1}})}),define("components/mobile-footer-link",["jquery","version!fly/managers/debug","managers/client-storage","utils/cookie","version!fly/components/base"],function(e,t,o,n){t=t.init("mobileFooterLink"),e.widget("cnet.mobileFooterLink",e.fly.base,{options:{},_create:function(){this._setup();var e=this;o.read("mobileRedirect")&&(e.$element.append('<li><a class="view">Switch to mobile</a></li>'),this._setEvent())},_setEvent:function(){this.$element.find("a.view").on("click",function(){n.write("fly_device","mobile"),o.erase("mobileRedirect"),window.location.reload(!0)})}})}),define("components/auto-suggest",["jquery","version!fly/managers/debug","managers/tealium","version!fly/components/base"],function(e,t,o){t=t.init("autoSuggest"),e.widget("cnet.autoSuggest",e.fly.base,{options:{url:"/autosuggest/xhr/",menuSelector:".menuWrapper",menuShowClass:"active",resultSelector:"li:not(.hed)"},suggestXhr:null,$searchBox:null,_create:function(){var e=this;e._setup(),e._setupEvents(),e.$searchBox=e.$element.find("input"),e.$searchBox.keyup(function(t){40!=t.which&&38!=t.which&&e._doAutoSuggest()}.bind(e)),e.$searchBox.keydown(function(t){(40==t.which||38==t.which)&&e._doArrowKey(t)}.bind(e))},_setupEvents:function(){var t=this;this.$element.on("submit",function(o){var n=e(".searchBar .menuWrapper .topCategories .selected").text();""!=n&&t.$searchBox.val(n)})},_doAutoSuggest:function(){var o=this,n=o.options;if(o.suggestXhr&&4!=o.suggestXhr.readyState&&0!=o.suggestXhr.readyState&&o.suggestXhr.abort(),""!=o.$searchBox.val()){var i=n.url+"?query="+o.$searchBox.val();t.log("AutoSuggestXHR: ",i),o.suggestXhr=e.ajax({url:i,dataType:"json",context:document.body}).done(function(t){o.$element.addClass(n.menuShowClass);var i=e(e.parseHTML(e.trim(t.html)));e(n.resultSelector,i).length>0?(0==e(n.menuSelector,o.$element).length?i.insertAfter(o.$searchBox):e(n.menuSelector,o.$element).replaceWith(i),o.$element.find(n.resultSelector).mousedown(function(t){var n=e(".searchBar .menuWrapper .topCategories .selected");""!=n.text()&&n.removeClass("selected"),o._submitAutoSuggest(t)}.bind(o)),o.$searchBox.focusout(function(){o._hideAutoSuggest()}.bind(o))):o._hideAutoSuggest()}).fail(function(){o._hideAutoSuggest()})}else o._hideAutoSuggest()},_doArrowKey:function(t){var o=e(".searchBar .menuWrapper .topCategories li:not(.hed)"),n=e(".searchBar .menuWrapper .topCategories .selected");40===t.which?n?(n.removeClass("selected"),next=n.next(),next.length>0?next.addClass("selected"):o.eq(0).addClass("selected")):o.eq(0).addClass("selected"):38===t.which&&(n?(n.removeClass("selected"),prevli=n.prev(),prevli.length>0&&!prevli.hasClass("hed")?prevli.addClass("selected"):o.last().addClass("selected")):o.last().addClass("selected"))},_hideAutoSuggest:function(){var e=this,t=e.options;e.$element.removeClass(t.menuShowClass)},_submitAutoSuggest:function(t){var n=e(t.target),i=n.text();o.trackSuggestedSearch({searchTerm:i,dwLinkTag:"search|suggestedSearch|"+n.prevAll().length}),this.$searchBox.val(i),this.$element.submit()}})}),define("managers/components.desktop",["jquery","version!fly/managers/components","version!fly/managers/debug","managers/tealium","managers/page-vars","components/global-modal","components/modal-email","components/modal-iframe","components/header-menu","components/mobile-footer-link","components/auto-suggest"],function(e,t,o,n,i){return o=o.init("componentManager"),t.register({globalModal:{},modalEmail:{},modalIframe:{},headerMenu:{},mobileFooterLink:{},autoSuggest:{},accordion:{require:"version!fly/components/accordion"},addthisevent:{require:"components/add-this-event"},alert:{require:"version!fly/components/alert"},audioPlayer:{require:"components/audio-player"},autoplayControls:{require:"components/autoplay-controls"},backgroundVideo:{require:"components/background-video"},bestFitVideoPromo:{require:"components/best-fit-video-promo"},breakingNews:{require:"components/breaking-news"},carousel:{require:"version!fly/components/carousel",options:{slidechanged:function(t){e(window).trigger("scroll")}}},carouselFull:{require:"components/carousel-full"},cesCategoryListing:{require:"components/ces-category-listing"},cnet100:{require:"components/cnet100"},cnetVideo:{require:"components/cnet-video"},cnetVideoUvp:{require:"components/cnet-video-uvp"},connectComponent:{require:"components/connect-es-component"},contactUs:{require:"components/contact-us"},couponsDesktop:{require:"components/coupons-page.desktop"},dropdown:{require:"version!fly/components/dropdown"},dfllActivator:{require:"components/dfll-activator.desktop"},dfllUpdater:{require:"components/dfll-updater.desktop"},editionToggler:{require:"components/edition-toggler"},editorsChoiceToggle:{require:"components/editors-choice-toggle"},ellipsis:{require:"components/ellipsis"},expando:{require:"components/expando"},HGGFD:{require:"components/hgg-door"},holidayNav:{require:"components/holiday-nav"},inlineProductCarousel:{require:"components/inline-product-carousel"},topStories:{require:"components/top-stories"},errorModal:{require:"components/error-modal"},expiredDealModal:{require:"components/expired-deal-modal.desktop"},externalLink:{require:"components/external-link"},fixate:{require:"components/fixate"},formAjax:{require:"components/form-ajax"},formTrim:{require:"components/form-trim"},formValidate:{require:"components/form-validate"},forumsBestAnswer:{require:"components/forums-best-answer"},forumsMarkAsRead:{require:"components/forums-mark-as-read"},forumsRealtime:{require:"components/forums-realtime"},forumsPostToggle:{require:"components/forums-post-toggle"},forumsPostPreview:{require:"components/forums-post-preview"},forumsPostFlag:{require:"components/forums-post-flag"},forumsPermalink:{require:"components/forums-permalink"},forumsLoadForm:{require:"components/forums-load-form"},forumsSearchUpdater:{require:"components/forums-search-updater"},forumsTools:{require:"components/forums-tools"},forumsTrack:{require:"components/forums-track"},forumsVote:{require:"components/forums-vote"},fullScreenSlides:{require:"components/full-screen-slides"},googleCsa:{require:"components/google-csa"},iframeHoverFix:{require:"components/iframe-hover-fix"},imageGallery:{require:"components/image-gallery"},imageGalleryModal:{require:"components/image-gallery-modal"},interactiveFloorPlans:{require:"components/interactive-floor-plans"},interactiveVideoPlayer:{require:"components/interactive-video-player"},interactiveVideoPollTimer:{require:"components/interactive-video-poll-timer"},joinCnet:{require:"components/join-cnet"},lazyloadImages:{require:"components/lazyload-images"},leadsTracker:{require:"components/leads-tracker"},livefyreCommentcount:{require:"version!fly/components/livefyre-commentcount"},livefyreConversation:{require:"components/livefyre-conversation"},livefyreConversationAsync:{require:"components/livefyre-conversation-async"},livefyreReviews:{require:"components/livefyre-reviews"},loadMore:{require:"components/load-more",options:{load:function(e){e._clickAction="trackClick",e.clickGenericText="load-more",e.siteSection=i.tracking.data.siteSection,e.pageType=i.tracking.data.pageType,e.siteEdition=i.tracking.data.siteEdition,e.siteType=i.tracking.data.siteType,e.deviceType=i.tracking.data.deviceType,e._pageChannelType=i.tracking.data._pageChannelType,n.trackCustomEvent("loadMore",e)}}},loadMoreMasonry:{require:"components/load-more-masonry-river",options:{load:function(e){e._clickAction="trackClick",e.clickGenericText="load-more",e.siteSection=i.tracking.data.siteSection,e.pageType=i.tracking.data.pageType,e.siteEdition=i.tracking.data.siteEdition,e.siteType=i.tracking.data.siteType,e.deviceType=i.tracking.data.deviceType,e._pageChannelType=i.tracking.data._pageChannelType,n.trackCustomEvent("loadMore",e)}}},loadNewest:{require:"components/load-newest",options:{load:function(e){e._clickAction="trackClick",e.clickGenericText="refresh-river",e.siteSection=i.tracking.data.siteSection,e.pageType=i.tracking.data.pageType,e.siteEdition=i.tracking.data.siteEdition,e.siteType=i.tracking.data.siteType,e.deviceType=i.tracking.data.deviceType,e._pageChannelType=i.tracking.data._pageChannelType,n.trackCustomEvent("loadMore",e)}}},magnet:{require:"components/magnet"},modal:{require:"version!fly/components/modal"},modalEnlargeImage:{require:"components/modal-enlarge-image"},mostPopularDeal:{require:"components/most-popular-deal.desktop"},mostPopularDealListing:{require:"components/most-popular-deal-listing.desktop",options:{contentSet:function(e){t.process(e.$content)}}},moveIncrementalHTML:{require:"components/move-incremental-html"},myLists:{require:"components/mylists"},myListsButton:{require:"components/mylists-button"},newsletterSubscription:{require:"components/newsletter-subscription"},newsCarousel:{require:"components/news-carousel"},nrelate:{require:"components/nrelate"},poll:{require:"components/poll"},preLoadImageVideo:{require:"components/pre-load-image-video"},productMediaCarousel:{require:"components/product-media-carousel"},productSeriesModal:{require:"components/product-series",options:{contentSet:function(e){t.process(e.$content)}}},productSpecs:{require:"components/product-specs"},productReviewVideo:{require:"components/product-review-video"},profileReauth:{require:"components/profile-reauth"},scrollTracking:{require:"components/scroll-tracking"},profileSubscriptions:{require:"components/profile-subscriptions",options:{contentSet:function(e){t.process(e.$content)}}},profileModal:{require:"components/profile-modal",options:{contentSet:function(e){t.process(e.$content)}}},profileUpdate:{require:"components/profile-update",options:{contentSet:function(e){t.process(e.$content)}}},profileUgc:{require:"components/profile-ugc",options:{contentSet:function(e){t.process(e.$content)}}},profileDiscussions:{require:"components/profile-discussions"},radio:{require:"components/radio"},readMore:{require:"components/read-more"},recaptcha:{require:"components/recaptcha"},scrollbarArea:{require:"components/scrollbar-area"},searchBar:{require:"components/search-bar"},searchPagination:{require:"components/search-paginator",options:{contentSet:function(e){t.process(e.$content)}}},searchSort:{require:"components/search-sort"},sharebar:{require:"components/sharebar"},shortcodeGallery:{require:"components/shortcode-gallery"},shortcodeGalleryController:{require:"components/shortcode-gallery-controller"},showcaseHeroTabs:{require:"components/showcase-hero-tabs"},showcaseRailBody:{require:"components/showcase-rail-body"},showcaseVideos:{require:"components/showcase-videos"},sideNav:{require:"components/side-nav"},slider:{require:"components/slider"},uiSlider:{require:"version!libs/jquery/ui/jquery.ui.slider"},socialButton:{require:"version!fly/components/social-button"},socialCounts:{require:"components/social-counts"},socialMenu:{require:"components/social-menu"},socialTracking:{require:"components/social-tracking"},stickyElement:{require:"components/sticky-element"},stickyLeader:{require:"components/sticky-leader"},subratingModalToggle:{require:"components/subrating-modal-toggle"},tableSorter:{require:"components/table-sorter"},tabs:{require:"version!fly/components/tabs"},tabsAsync:{require:"components/tabs-async",options:{contentSet:function(e){t.process(e.$content)}}},tabsRefresh:{require:"components/tabs-refresh"},tagLetterSorter:{require:"components/tag-letter-sorter"},textCounter:{require:"components/text-counter"},tocNav:{require:"components/toc-nav"},toggle:{require:"components/toggle"},tooltip:{require:"components/tooltip"},touchMenuHover:{require:"components/touch-menu-hover"},trackDownload:{require:"components/track-download"},tvFeature:{require:"components/tv-feature"},twitterFetcher:{require:"components/twitter-fetcher"},videoControls:{require:"components/video-controls"},videoHook:{require:"components/video-hook"},videoModal:{require:"components/video-modal"},videoOnPage:{require:"components/video-on-page"},videoScroller:{require:"components/video-scroller"},videoListing:{require:"components/video-listing"},videoPlaylistConnector:{require:"components/video-playlist-connector"},videoShowGallery:{require:"components/video-show-gallery"},yahooBeacon:{require:"components/yahoo-beacon"},zipCode:{require:"components/zip-code"},yahooAdSearch:{require:"components/yahoo-ad-search"},yahooMultiAd:{require:"components/yahoo-multi-ad"},profileNewsletterSubscription:{require:"components/profile-newsletter-subscription"},bandwidthMeterBar:{require:"components/bandwidth-meter-bar"}}),t}),define("managers/edition-notifications",["jquery","version!fly/managers/debug","managers/device","components/global-modal"],function(e,t,o,n){t=t.init("editionNotifications");var i={init:function(){if(o.isDesktop()){var t=e("body").data("edition-redirect-alert");t&&t.length>0&&e.cnet.globalModal({content:t,openOnInit:!0})}}};return i}),define("managers/third-party/google-analytics",["jquery","version!fly/managers/debug"],function(e,t){t=t.init("googleAnalytics");var o={init:function(){!function(e,t,o,n,i,a,s){e.GoogleAnalyticsObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,a=t.createElement(o),s=t.getElementsByTagName(o)[0],a.async=1,a.src=n,s.parentNode.insertBefore(a,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-44159791-1","cnet.com"),ga("send","pageview")}};return o}),define("managers/promotionals.desktop",["jquery","version!fly/managers/debug","managers/client-storage","utils/cookie","managers/edition","managers/page-vars","managers/user","version!libs/modernizr.custom"],function(e,t,o,n,i,a,s){t=t.init("promotionals");var r=null,l={cookiesNotification:{limit:3,isActive:function(){return i.isUnitedKingdom()&&!o.read("suppressCookiesNotification",!0)&&r.cookiesNotification<l.cookiesNotification.limit},init:function(){require(["components/cookies-notification.desktop"],function(){e.cnet.cookiesNotification(),r.cookiesNotification++,o.write("promotionalSettings",r),o.write("suppressCookiesNotification",!0,!0)})}},espanolPromo:{limit:2,isActive:function(){var e=(window.navigator.userLanguage||window.navigator.language).indexOf("es")>=0;return e||(e="es"===n.read("fly_default_edition")),!i.isEspanol()&&e&&!o.read("suppressEspanolPromo",!0)&&r.espanolPromo<l.espanolPromo.limit},init:function(){require(["components/espanol-promo.desktop"],function(){e.cnet.espanolPromo(),r.espanolPromo++,o.write("promotionalSettings",r),o.write("suppressEspanolPromo",!0,!0)})}},flyoutPromo:{limit:4,isActive:function(){var e=a.tracking.data.pageType,t=-1==["expando","hgg_2015"].indexOf(e);if(a.tracking.data.collectionSlug)var i=a.tracking.data.collectionSlug[0];var s=-1==["holiday-gift-guide-2015","guia-de-compras-navidenas-2015"].indexOf(i),c=a.tracking.data.articleType,u=-1==["hgg_2015","my_list"].indexOf(c),d=r.flyoutPromo<l.flyoutPromo.limit,p=!n.read("previousLogin"),h=r.flyoutPromo>0;return h||(r.flyoutPromo++,o.write("promotionalSettings",r)),t&&s&&u&&d&&p&&h},init:function(){s.getUserData(function(t,n){n.isLoggedIn||require(["components/flyout-promo.desktop"],function(){e.cnet.flyoutPromo(a.promotionals.flyoutPromo),r.flyoutPromo++,o.write("promotionalSettings",r)})})}}},c={init:function(){var t=function(){e.cnet.breakingNewsActive===!1&&(l.cookiesNotification.isActive()?l.cookiesNotification.init():l.espanolPromo.isActive()&&l.espanolPromo.init())};r=o.read("promotionalSettings")||{};for(var n in l)l.hasOwnProperty(n)&&(r[n]=r[n]||0);l.flyoutPromo.isActive()&&l.flyoutPromo.init(),"undefined"==typeof e.cnet.breakingNewsActive?e(window).on("breakingNewsComplete",function(){t()}):t()},suppress:function(e){r[e]=l[e].limit,o.write("promotionalSettings",r)}};return c}),define("managers/third-party/social",["version!fly/managers/debug"],function(e){function t(e){"string"==typeof o[e]&&require([o[e]],function(t){o[e]=t,t.init()})}e=e.init("social");var o={linkedIn:"managers/third-party/linked-in",pinterest:"managers/third-party/pinterest",twitter:"managers/third-party/twitter"};return{init:function(){$('[data-social="linkedIn"]').length>0&&t("linkedIn"),$('[data-social="pinterest"]').length>0&&t("pinterest"),$('[data-social="twitter"]').length>0&&t("twitter")},parse:function(e){e=e||null,$('[data-social="linkedIn"]',e).length>0&&("string"==typeof o.linkedIn?t("linkedIn"):o.linkedIn.parse(e)),$('[data-social="pinterest"]',e).length>0&&"string"==typeof o.pinterest&&t("pinterest"),$('[data-social="twitter"]',e).length>0&&("string"==typeof o.twitter?t("twitter"):o.twitter.parse())}}}),define("main.desktop",["jquery","managers/client-storage","managers/components.desktop","managers/device","managers/edition-notifications","managers/third-party/google-analytics","managers/page-vars","managers/promotionals.desktop","managers/third-party/social","managers/tealium","version!fly/utils/data-prefix","utils/function-natives","version!libs/modernizr.custom","managers/user"],function(e,t,o,n,i,a,s,r,l,c){e(document).ready(function(){c.init(s.tracking.data),n.init(s.device),t.init(),o.process(e("body")),r.init(),i.init(),l.init(),a.init()})}),define("components/edition-toggler",["jquery","version!fly/managers/debug","managers/user","utils/cookie","version!fly/components/base"],function(e,t,o,n){t=t.init("editionToggler"),e.widget("cnet.editionToggler",e.fly.base,{options:{preferredEditionCookie:"fly_preferred_edition"},_create:function(){this._setup(),this._setupEvents()},_setupEvents:function(){var i=this;e("[data-edition]",this.$element).on("click",function(a){a.preventDefault();var s=e(this),r=s.attr("href"),l=s.data("edition");t.log("setting preferred edition cookie from menu value: "+l),n.write(i.options.preferredEditionCookie,l,{expires:365}),r?o.getUserData(function(o,n){n.isLoggedIn?(t.log("setting urs preferred edition from menu value: "+l),e.ajax({url:"/edition/update/",data:{preferredEdition:l}}).done(function(e){r?window.location.href=r:t.log("failed to set window.location.href to:"+r)}).fail(function(e){t.log("failed to set urs edition value: "+l)})):window.location.href=r}):t.log("failed to set window.location.href to:"+r)})}})}),define("components/external-link",["jquery","version!fly/managers/debug","version!fly/components/base","managers/tealium"],function(e,t,o){var n=t.init("tracking");e.widget("cnet.externalLink",e.fly.base,{options:{},_create:function(){this._setup(),this.$element.click(function(e){o.trackExternalLink({clickGenericText:"trackExternalLink"}),n.log("External link clicked.")}.bind(this))}})}),define("fly/components/fixate-1.0",["jquery","version!fly/components/base"],function(e){e.widget("fly.fixate",e.fly.base,{options:{classFixed:"fixed",classUnfixed:"unfixed",primaryEdge:"top",offset:{top:20,bottom:20},stickToLeft:!1,stickToRight:!1,guideTop:null,guideBottom:null,guideLeft:null,guideRight:null},hasEvents:!1,isFixed:!1,boundary:{top:-1,bottom:-1,left:-1,right:-1},$element:null,$window:e(window),$document:e(document),_create:function(){this._super("_create"),this._setBoundaries(),this._addEvents(),this.checkPosition()},_addEvents:function(){this.options;this.hasEvents||this.disabled||(this.hasEvents=!0,this.$window.on("scroll.fixate",e.proxy(this.checkPosition,this)),this.$window.on("resize.fixate",e.proxy(this.checkPosition,this)))},_removeEvents:function(){this.hasEvents=!1},_setBoundaries:function(){var t=this.options,o=null,n=null,i=null,a=null,s=null;this.boundary={top:-1,bottom:-1,left:-1,right:-1},t.guideTop&&(n=e(t.guideTop),o=n.offset(),this.boundary.top=o.top+n.outerHeight()),t.guideBottom&&(i=e(t.guideBottom),o=i.offset(),this.boundary.bottom=o.top),t.guideLeft&&(a=e(t.guideLeft),o=a.offset(),t.stickToLeft&&((this.boundary.top<0||o.top>this.boundary.top)&&(this.boundary.top=o.top),(this.boundary.bottom<0||o.top+a.outerHeight()<this.boundary.bottom)&&(this.boundary.bottom=o.top+a.outerHeight()))),t.guideRight&&(s=e(t.guideRight),o=s.offset(),t.stickToRight&&((this.boundary.top<0||o.top>this.boundary.top)&&(this.boundary.top=o.top),(this.boundary.bottom<0||o.top+s.outerHeight()<this.boundary.bottom)&&(this.boundary.bottom=o.top+s.outerHeight())))},_fix:function(){var e=this.options;this.isFixed=!0,this.$element.addClass(e.classFixed).removeClass(e.classUnfixed),"top"===e.primaryEdge?this.$element.css("top",e.offset.top):this.$element.css("top",this.$window.height()-e.offset.bottom-this.$element.height()),this._placeHorizontally()},_unfix:function(e){var t=this.options;this.isFixed=!1,this.$element.addClass(t.classUnfixed).removeClass(t.classFixed),"top"===e?this.$element.css("top",this.boundary.top+t.offset.top-this.$window.scrollTop()):this.$element.css("top",this.boundary.bottom-t.offset.bottom-this.$element.height()-this.$window.scrollTop()),
this._placeHorizontally()},_placeHorizontally:function(){var t=this.options,o=this.$window.scrollLeft(),n=null,i=null;t.guideLeft?(n=e(t.guideLeft),this.$element.css("left",n.offset().left+n.outerWidth()-o)):t.guideRight&&(i=e(t.guideRight),this.$element.css("left",i.offset().left-this.$element.width()-o))},checkPosition:function(){var e=this.options,t=this.$window.scrollTop(),o=t+this.$window.height(),n=this.$element.height();this._setBoundaries(),"top"===e.primaryEdge?t<this.boundary.top?this._unfix("top"):this.boundary.bottom>=0&&t+e.offset.top+n+e.offset.bottom>this.boundary.bottom?this._unfix("bottom"):this._fix():o>this.boundary.bottom?this._unfix("bottom"):o-e.offset.bottom-n-e.offset.top<this.boundary.top?this._unfix("top"):this._fix()},destroy:function(){this._removeEvents(),this._super("destroy")}})}),define("components/fixate",["jquery","version!fly/managers/debug","version!fly/components/fixate"],function(e,t){t=t.init("fixate"),e.widget("fly.fixate",e.fly.fixate,{options:{classFixedParent:"fixed-parent",guideContainer:null,guideTopPlus:null,classTop:"top",classBottom:"bottom",offset:{topPlus:0}},_setBoundaries:function(){this._super();var t=this.options,o=null;this.options.guideContainer&&(this.options.guideContainer=e(this.options.guideContainer),o=this.options.guideContainer.offset(),(this.boundary.top<0||o.top>this.boundary.top)&&(this.boundary.top=o.top),(this.boundary.bottom<0||o.top+this.options.guideContainer.outerHeight()<this.boundary.bottom)&&(this.boundary.bottom=o.top+this.options.guideContainer.outerHeight())),t.guideTopPlus&&(t.guideTopPlus=e(t.guideTopPlus),o=t.guideTopPlus.offset(),this.boundary.top=o.top+t.guideTopPlus.outerHeight()-t.offset.topPlus)},_fix:function(){var e=this.options;this.isFixed=!0,this.$element.addClass(e.classFixed).removeClass(e.classUnfixed).removeClass(e.classBottom).removeClass(e.classTop),"top"===e.primaryEdge?this.$element.css("top",e.offset.top):this.$element.css("top",this.$window.height()-e.offset.bottom-this.$element.height()),this._placeHorizontally(),this.$element.parent().addClass(this.options.classFixedParent)},_unfix:function(e){var t=this.options;this.isFixed=!1,this.$element.addClass(t.classUnfixed).removeClass(t.classFixed),"top"===e?(this.$element.css("top",this.boundary.top-this.$window.scrollTop()),this.$element.addClass(t.classTop).removeClass(t.classBottom)):(this.$element.css("top",this.boundary.bottom-this.$element.height()-this.$window.scrollTop()),this.$element.addClass(t.classBottom).removeClass(t.classTop)),this._placeHorizontally(),this.$element.parent().removeClass(this.options.classFixedParent)}})}),define("components/iframe-hover-fix",["jquery","version!fly/managers/debug","version!fly/components/base"],function(e,t){t=t.init("iframeHoverFix"),e.widget("cnet.iframeHoverFix",e.fly.base,{options:{},_create:function(){var t=this;this._setup(),e.browser.msie&&(this.$element.live("mouseenter",function(){t.$element.addClass("hover")}),this.$element.find("iframe").live("hover",function(){t.$element.addClass("hover")}),this.$element.live("mouseleave",function(){t.$element.removeClass("hover")}))}})}),define("translations/livefyre-conversation",["managers/edition"],function(e){var t={en:{signIn:"Log in",signOut:"Log out",editProfile:"My profile",follow:"+ Follow conversation",unfollow:"- Unfollow",listenerCount:"person following",listenerCountPlural:"people following",commentsDateFormat:"MMM d, y",commentCountLabel:'<span class="commentCountNumber">%s</span> comment',commentCountLabelPlural:'<span class="commentCountNumber">%s</span> comments',commentCountLabelZero:'<span class="commentCountNumber">No</span> comments',cnetGuidelinesURL:"/community-guidelines/",cnetFaqsURL:"/community-faqs/",cnetGuidelines:"Guidelines",cnetFaqs:"FAQs"},es:{signIn:"Ingresa",signOut:"Salir",editProfile:"Mi perfil",siteAdmin:"Administrador",postButton:"Publicar",postAsButton:"Publicar",postEditButton:"Edita",postEditCancelButton:"Cancelar",follow:"Sigue",unfollow:"Deja de seguir",mentionTitle:"Comparte la mención",mentionSubtitleFacebook:"Comparte la entrada de Facebook",mentionSubtitleTwitter:"Comparte el tweet",mentionDefaultText:"Te mencioné en un comentario de Livefyre",mentionConfirmButton:"OK",mentionCancelButton:"Cancelar",mentionSuccessMsg:"El comentario ha sido enviado con éxito",mentionErrorNoneSelected:"Tienes que leer por lo menos una mención",mentionErrorGeneral:"Hubo un problema. Livefyre ha sido notificado",mentionMenuTitle:"Para ver y mencionar a tus amigos",commentCountLabel:"Comentario",commentCountLabelPlural:"Comentarios",listenerCount:"persona leyendo",listenerCountPlural:"personas leyendo",commentsDateFormat:"d/MM/y",sortNewest:"Más reciente",sortOldest:"Más antiguo",sortHotThreads:"Conversaciones populares",sortBackButton:"Vuelve a las conversaciones más populares",sortTopComments:"Más populares",hotThreadsContentNotFoundMsg:"Aun no hay suficientes conversaciones",topCommentsContentNotFoundMsg:'Aún no hay suficientes "me gusta"',topContentRefreshMsg:"Mira lo nuevo.",threadBreakoutButton:"Muestra la conversación entera",shareDefaultText:"Mira la entrada de %",shareButton:"Compartir",shareCommentTooltip:"Compartir",shareTitle:"Comparte este comentario",shareButtonText:"Comparte",shareLabel:"Comparte en",permalinkHeader:"Compartido",permalinkHeaderDeleted:"Este comentario ya no se puede ver",flagButton:"Reportar",flagCommentTooltip:"Reportar",flagOffensive:"Esto es ofensivo",flagDisagree:"No estoy de acuerdo",flagOffTopic:"No relacionado al tema",flagTitle:"Reporta el comentario de %s",flagSubtitle:"Repórtalo como",flagEmail:"Email",flagEmailPlaceholder:"tunombre@ejemplo.com",flagNotes:"notas",flagNotesPlaceholder:"Escribe aquí",flagConfirmButton:"OK",flagCancelButton:"Cancelar",flagSuccessMsg:"El comentario ha sido marcado",flagConfirmationMessage:"¿Quieres marcar que el comentario de %s es %s?",flagDefaultSelectOption:"Seleccionar",likeButton:"Me Gusta",unlikeButton:"Ya no me gusta",replyButton:"responde",editButton:"Edita",timeJustNow:"En este momento",timeMinutesAgo:"Hace %s minuto",timeMinutesAgoPlural:"Hace %s minutos",timeHoursAgo:"Hace %s hora",timeHoursAgoPlural:"Hace %s horas",timeDaysAgo:"Hace %s día",timeDaysAgoPlural:"Hace %s dias",timeInMinutes:"Tienes %s minuto",timeInMinutesPlural:"Tienes %s minutos",refresh:"Recarga",newComment:"Comentario nuevo",newComments:"Comentarios nuevos",newReply:"Nueva respuesta",newReplies:"Nuevas respuestas",showMore:"Más comentarios",hovercardViewProfile:"Perfil entero",banTitle:"bloquear este usuario",banConfirmation:"¿Estás seguro que quieres bloquear este usuario?",banConfirmationButton:"Sí",banCancelButton:"Cancelar",flagOffensiveButton:"Ofensivo",flagSpamButton:"Spam",flagOfftopicButton:"fuera de tema",flagDisagreeButton:"no estoy de acuerdo",moderator:"Moderador",moderatorEditTimeStamp:"Editado por el moderador",pendingComment:"Pendiente",errorAuthError:"No tienes permiso de comentar en esta conversación",errorCommentsNotAllowed:"No está permitodo comentar en esta conversación",errorDuplicate:"A pesar que te gustó mucho ese comentario, no puedes publicarlo dos veces",errorEditDuplicate:"Debes cambiar el contenido del comentario al editarlo",errorEditNotAllowed:"No puedes editar comentarios dentro de esta conversación",errorEmpty:"Parece que intentas publicar un comentario vacío",errorInsufficientPermissions:"Falta autorización para publicar",errorInvalidChar:"Parece que intentas publicar un caracter que no es válido",errorMalformed:"Parece que estás publicando información indescifrable",errorMaxChars:"Lo sentimos, pero tu comentario es demasiado largo. Por favor edítalo y vuelve a intentarlo",errorExpired:"Tu sesión terminó. Por favor vuelve a cargar la página",errorDefault:"Hay un error. Inténtalo otra vez",errorEditTimeExceeded:"Lo sentimos, pero se agotó el tiempo para editar tu comentario",errorShowMore:"Hubo un error al intentar cargar más comentarios",errorLikeOwnComment:"No puede gustarte tu propio comentario",cnetGuidelinesURL:"/es/acerca/reglas-comentarios/",cnetFaqsURL:"/es/acerca/faqs-comentarios/",cnetGuidelines:"Reglas",cnetFaqs:"Preguntas más frecuentes"}};return t[e.getLanguage()]}),define("fly/components/livefyre-conversation-1.0",["jquery","version!fly/managers/debug","version!fly/components/base"],function(e,t){var o=t.init("livefyre");e.widget("fly.livefyreConversation",e.fly.base,{options:{urlLogin:"/user/login",urlLogout:"/user/logout",userToken:null,globalConfig:{},commentStreamConfigs:[{}]},conversation:null,authDelegate:{login:function(e){o.log("authDelegate login"),this._trigger("login"),window.location=this.options.urlLogin},logout:function(e){o.log("authDelegate logout"),this._trigger("logout"),window.location=this.options.urlLogout},viewProfile:function(e,t){o.log("authDelegate editProfile: ",t),this._trigger("viewProfile"),window.open(t.profileUrl)},editProfile:function(e,t){o.log("authDelegate editProfile: ",t),this._trigger("editProfile"),window.open(t.settingsUrl)}},events:{initialRenderComplete:e.noop,commentPosted:e.noop,commentFlagged:e.noop,commentLiked:e.noop,commentShared:e.noop,commentCountUpdated:e.noop,userLoggedIn:e.noop,userLoggedOut:e.noop},_create:function(t){var n=this,i=n.options;this._setup(),require(["livefyre"],function(){e.each(n.authDelegate,function(t,o){n.authDelegate[t]=e.proxy(o,this)}),i.globalConfig.authDelegate=e.extend(new fyre.conv.RemoteAuthDelegate,n.authDelegate),n.conversation=fyre.conv.load(i.globalConfig,[i.commentStreamConfigs],function(t){e.ajax({url:"/livefyre/user-token/xhr/"}).done(function(e){e.userToken&&fyre.conv.login(e.userToken)}),e.each(n.events,function(e,i){t.on(e,function(t){i.call(n,t),n._trigger(e,null,t),o.log(e+": ",t)})})})})}})}),!function(e,t,o,n){var i=e(t);e.fn.lazyload=function(a){function s(){var t=0;l.each(function(){var o=e(this);if(!c.skip_invisible||o.is(":visible"))if(e.abovethetop(this,c)||e.leftofbegin(this,c));else if(e.belowthefold(this,c)||e.rightoffold(this,c)){if(++t>c.failure_limit)return!1}else o.trigger("appear"),t=0})}var r,l=this,c={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return a&&(n!==a.failurelimit&&(a.failure_limit=a.failurelimit,delete a.failurelimit),n!==a.effectspeed&&(a.effect_speed=a.effectspeed,delete a.effectspeed),e.extend(c,a)),r=c.container===n||c.container===t?i:e(c.container),0===c.event.indexOf("scroll")&&r.bind(c.event,function(){return s()}),this.each(function(){var t=this,o=e(t);t.loaded=!1,(o.attr("src")===n||o.attr("src")===!1)&&o.is("img")&&o.attr("src",c.placeholder),o.one("appear",function(){if(!this.loaded){if(c.appear){var n=l.length;c.appear.call(t,n,c)}e("<img />").bind("load",function(){var n=o.attr("data-"+c.data_attribute);o.hide(),o.is("img")?o.attr("src",n):o.css("background-image","url('"+n+"')"),o[c.effect](c.effect_speed),t.loaded=!0;var i=e.grep(l,function(e){return!e.loaded});if(l=e(i),c.load){var a=l.length;c.load.call(t,a,c)}}).attr("src",o.attr("data-"+c.data_attribute))}}),0!==c.event.indexOf("scroll")&&o.bind(c.event,function(){t.loaded||o.trigger("appear")})}),i.bind("resize",function(){s()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&i.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&l.each(function(){e(this).trigger("appear")})}),e(o).ready(function(){s()}),this},e.belowthefold=function(o,a){var s;return s=a.container===n||a.container===t?(t.innerHeight?t.innerHeight:i.height())+i.scrollTop():e(a.container).offset().top+e(a.container).height(),s<=e(o).offset().top-a.threshold},e.rightoffold=function(o,a){var s;return s=a.container===n||a.container===t?i.width()+i.scrollLeft():e(a.container).offset().left+e(a.container).width(),s<=e(o).offset().left-a.threshold},e.abovethetop=function(o,a){var s;return s=a.container===n||a.container===t?i.scrollTop():e(a.container).offset().top,s>=e(o).offset().top+a.threshold+e(o).height()},e.leftofbegin=function(o,a){var s;return s=a.container===n||a.container===t?i.scrollLeft():e(a.container).offset().left,s>=e(o).offset().left+a.threshold+e(o).width()},e.inviewport=function(t,o){return!(e.rightoffold(t,o)||e.leftofbegin(t,o)||e.belowthefold(t,o)||e.abovethetop(t,o))},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})}(jQuery,window,document),define("libs/jquery/lazyload-1.9.3",function(){}),define("components/livefyre-conversation",["jquery","version!fly/managers/debug","managers/tealium","managers/ugc","managers/user","managers/device","managers/edition","translations/livefyre-conversation","version!fly/utils/url-helper","version!fly/components/livefyre-conversation","version!libs/jquery/lazyload"],function(e,t,o,n,i,a,s,r,l){t=t.init("livefyre"),e.widget("cnet.livefyreConversation",e.fly.livefyreConversation,{options:{urlUserToken:"/livefyre/user-token/",globalConfig:{strings:r,authPageReload:a.isMobile()},commentStreamConfigs:{datetimeFormat:{minutesUntilAbsoluteTime:1440,absoluteFormat:r.commentsDateFormat},disableAvatars:!0,postToButtons:["fb","tw"]},commentCountUpdated:function(t,o){var n=e(this).data("cnet-livefyreConversation"),i=n.$element.attr("id");i=i.substring(21);var a=e('[data-livefyre-count="'+i+'"]');0===a.length&&(a=e(".sharebar .comment-count")),a.html('<a href="#'+n.anchor+'"><div class="social-button-small comments"><div class="icon icon-small-comments">comments</div></div><span class="count">'+o+"</span></a>")},profileURL:"/profile/{username}/"},count:0,authDelegate:{viewProfile:function(e,t){var o=s.getEdition();"es"!=o&&null!=t.profileUrl&&window.open(t.profileUrl,"_blank")},editProfile:function(e,t){var o=this.options.profileURL.replace("%7Busername%7D",t.displayName);window.location.href=o},login:function(e){var o=this;t.log("authDelegate login"),this._trigger("login"),i.hasAccess({requireUsername:!0,nextAction:function(){return i.hasAccess({requireUsername:!0,nextAction:function(){return o._livefyreLogin(),e.success(),!1}}),!1}})},logout:function(o){t.log("authDelegate logout"),this._trigger("logout"),"true"==e('[data-user-action="logout"]').attr("data-user-suppress-refresh")?i.ajaxLogOut():window.location=this.options.urlLogout}},events:{initialRenderComplete:function(o){var n=this;t.log("Conversation rendered",o),window.setTimeout(function(){e(".fyre-editor",n.$element).append(e("<div/>",{"class":"livefyreInfo",html:'<a href="'+r.cnetFaqsURL+'" target="_blank">'+r.cnetFaqs+'</a> / <a href="'+r.cnetGuidelinesURL+'" target="_blank">'+r.cnetGuidelines+"</a>"}))},1e3)},commentPosted:function(e){t.log("Comment posted",e),o.trackComment("trackSubmitComment",{_riaEvent:"create",_riaEventT:e.parent?"commentreply":"comment",_riaWd:"submitbutton"},"submitComment"),n.updateCookie();var i=this.$element.closest('[data-component="toggle"]');i.toggle&&i.toggle("show")},commentFlagged:function(e){t.log("Comment flagged",e),o.trackComment("trackSubmitFlag",{_riaEvent:"vote",_riaEventT:e.type&&e.type.length>0?e.type[0]:"reportoffensive",_riaWd:"commentflags"},"submitFlag")},commentLiked:function(e){t.log("Comment liked",e),o.trackComment("trackSubmitCommentLike",{_riaEvent:"vote",_riaEventT:"likecomment",_riaWd:"link"},"submitCommentLike")},commentShared:function(n){t.log("Comment shared",n),o.trackComment("trackSubmitCommentShare",{_riaEvent:"vote",_riaEventT:"share",_riaWd:"commentshared"},"submitCommentShare");var i=e("#fyre-message-"+n.targetId),a="This comment was shared";if(n.sharedToFacebook?(a+=" to <strong>Facebook</strong>",n.sharedToTwitter&&(a+=" and <strong>Twitter</strong>")):n.sharedToTwitter&&(a+=" to <strong>Twitter</strong>"),i){var s=e("<div/>",{"class":"livefyreShareNotification",html:a});e(".fyre-comment-wrapper",i).append(s),s.fadeIn(),window.setTimeout(function(e){e.fadeOut()},5e3,s)}},commentCountUpdated:function(e){t.log("Comment count updated",e),this.count=e,this._unhideComments()},userLoggedIn:function(e){t.log("User is logged in"),this._unhideDelete(e)}},_create:function(o){var n=this,a=n.options;this._setup(),e.extend(this.options.globalConfig.strings,this.options.globalConfig.stringOverrides),this.anchor=e(".livefyreJumpTarget").attr("name")||"comments",(window.location.hash.indexOf("#lf-content=")>=0||window.location.hash.indexOf("#lf_comment=")>=0||l.getParam("lf-content"))&&(e("div[data-toc-item] .collapsible, div[data-container-asset-id] .collapsible").length>0&&(e("div[data-toc-item] .collapsible, div[data-container-asset-id] .collapsible").first().removeClass("hidden"),e("div[data-toc-item] .collapsible, div[data-container-asset-id] .collapsible").first().toggle("show")),e("img.lazy").lazyload({threshold:2e4}).removeClass("lazy")),require(["livefyre"],function(){e.each(n.authDelegate,function(e,t){n.authDelegate[e]=t.bind(n)}),a.globalConfig.authDelegate=e.extend(new fyre.conv.RemoteAuthDelegate,n.authDelegate),n.conversation=fyre.conv.load(a.globalConfig,[a.commentStreamConfigs],function(o){n._livefyreLogin(),e.each(n.events,function(e,i){o.on(e,function(o){i.call(n,o),n._trigger(e,null,o),t.log(e+": ",o)})}),n.$element.on("click",".fyre-stream-more-container",function(e){n.$element.find(".fyre-stream-more-container").css("margin-top","30px"),n.$element.find(".fyre-stream-content").css("display","block")})}),i.$element.on("userhasloggedin",function(){n._livefyreLogin()}),i.$element.on("userhasloggedout",function(){fyre.conv.logout()})})},_livefyreLogin:function(){e.ajax({url:this.options.urlUserToken}).done(function(e){i.getUserData(function(t,o){e.userToken&&o.userName&&fyre.conv.login(e.userToken)})})},_unhideComments:function(){if(this.count>0&&0===e("#showLivefyreComments").length){var t=e("<style/>",{id:"showLivefyreComments",type:"text/css"}).appendTo(document.head)[0],o=t.styleSheet||t.sheet;o.addRule?(o.addRule(".fyre-comment-stream","display: block"),o.addRule(".livefyreJump","display: inline-block !important")):(o.insertRule(".fyre-comment-stream { display: block; }",0),o.insertRule(".livefyreJump { display: inline-block !important; }",0))}},_unhideDelete:function(t){if(t.isModerator&&0===e("#showLivefyreDelete").length){var o=e("<style/>",{id:"showLivefyreDelete",text:"text/css"}).appendTo(document.head)[0],n=o.styleSheet||o.sheet;n.addRule?n.addRule(".fyre-delete-link","display: inline-block !important"):n.insertRule(".fyre-delete-link { display: inline-block !important; }",0)}}})}),define("translations/social-links",["managers/edition"],function(e){var t={en:{cnet:"CNET"},es:{cnet:"CNET_Es"},au:{cnet:"CNET_Au"},uk:{cnet:"CNET_Uk"}};return t[e.getLanguage()]}),define("fly/components/social-links-1.0",["jquery","version!fly/managers/debug","version!fly/utils/string-vars","version!fly/components/base"],function(e,t,o){var n=e.support.touch?"vclick":"click",i=t.init("socialLinks");e.widget("fly.socialLinks",e.fly.base,{options:{title:"",url:"",description:"",shortUrl:"",via:"",data:{},popupWidth:620,popupHeight:440,location:null},isLoading:!1,popupId:"popup",linkId:"link",links:{facebook:"http://www.facebook.com/sharer.php?u={url}&t={title}",reddit:"http://reddit.com/submit?url={url}&title={title}",digg:"http://digg.com/submit?url={url}&title={title}",stumbleupon:"http://www.stumbleupon.com/submit?url={url}",twitter:function(e){var t="https://twitter.com/intent/tweet?text={title}&related={related}";return t+=e.shortUrl?"&url={shortUrl}&counturl={url}":"&url={url}",t+=e.via?"&via={via}":""},delicious:"http://del.icio.us/post?url={url}&title={title}",googleplus:"https://plus.google.com/share?url={url}&utm_content={title}&utm_campaign=&utm_medium=share%2Bbutton",linkedin:"http://www.linkedin.com/shareArticle?mini=true&url={url}&title={title}&summary={description}",pinterest:"http://pinterest.com/pin/create/button/?url={url}&media={media}&description={description}",tumblr:"http://www.tumblr.com/share/link?url={url}&description={description}",whatsapp:function(t){var n={ios:{match:/(ipad|iphone|ipod)/,store:"https://itunes.apple.com/app/whatsapp-messenger/id310633997",url:"whatsapp://send?text={title}%20{url}"},androidChrome:{match:"androidChrome",store:"market://details?id=com.whatsapp",url:"intent://send?text={title}%20{url}#Intent;package=com.whatsapp;scheme=whatsapp;end;"},android:{match:"android",store:"market://details?id=com.whatsapp",url:"whatsapp://send?text={title}%20{url}"}},i=window.navigator.userAgent.toLowerCase();for(var a in n)if(a=n[a],i.match(a.match)){a.url=o.compile(a.url,t,["urlencode"]);var s=e("<iframe />").css("display","none").attr("src",a.url).appendTo("body");return setTimeout(function(){window.open(a.store,"_blank"),s.remove()},300),!1}},print:function(){return window.print(),!1},email:"mailto:?subject={title}&body={url}%0D%0D{description}"},_create:function(){var e=(this.options,{});this._setup(),e[n+" [data-"+this.popupId+"]"]="_handlePopup",e[n+" [data-"+this.linkId+"]"]="_handleLink",this._on(this.$element,e)},_handlePopup:function(t){var o=e(t.currentTarget),n=o.data(this.popupId);t.preventDefault(),this.$el=o,this._setupClickEvent(t,{el:o,name:n}),this.popup(t,n)},_handleLink:function(t){var o=e(t.currentTarget),n=o.data(this.linkId);t.preventDefault(),this.$el=o,this._setupClickEvent(t,{el:o,name:n}),this.link(t,n)},_getLink:function(t){var n=this.links[t.toLowerCase()],i=this._getLinkData();return e.isFunction(n)&&(n=n(i)),n=o.compile(n,i,["urlencode"])},setLink:function(e,t){this.links[e]=t},_getLinkData:function(){var t=this.options;return e.extend({title:t.title,description:t.description,url:t.url,shortUrl:t.shortUrl,via:t.via},t.data)},popup:function(e,t){var o=this._getLink(t),n=this._getPopUpCoords(),i=this.$el;o&&(window.open(o,"button_share","width="+n.width+", height="+n.height+", left="+n.left+", top="+n.top+", personalbar=0, toolbar=0, scrollbars=1, resizable=1"),this._setupLoadEvent(e,{el:i,name:t,type:this.popupId}))},link:function(e,t){var o=this._getLink(t),n=this.$el;o&&(this._setupLoadEvent(e,{el:n,name:t,type:this.linkId}),window.location=o)},_getPopUpCoords:function(e,t){var o=this.options,n=e||o.popupWidth,i=t||o.popupHeight,a=screen.width,s=screen.height;return{left:Math.round(a/2-n/2),top:s>i?Math.round(s/2-i/2):0,width:a>n?n:a,height:s>i?i:s}},_setupClickEvent:function(t,o){t=t||null;var n=this.options.location;n&&e.extend(o,{location:n}),i.log("clicked"),this._trigger("clicked",null,o)},_setupLoadEvent:function(t,o){t=t||null;var n=this.options.location;n&&e.extend(o,{location:n}),this._trigger("loaded",t,o)}})}),define("fly/components/social-counts-1.0",["jquery","version!fly/managers/debug","version!fly/utils/string-helper","version!fly/utils/string-vars","version!fly/utils/object-helper","version!fly/components/social-links"],function(e,t,o,n,i){var a=(e.support.touch?"vclick":"click",t.init("socialCounts"));e.widget("fly.socialCounts",e.fly.socialLinks,{options:{url:null,facebookKey:null,showZeros:!1,countType:"human",containerClass:"social-count",containerTemplate:"<span></span>",loadingClass:"loading",loadedClass:"loaded",googleButtonType:"small",showTotal:!1,totalContainerSelector:".social-count-total",location:null,timeout:1e3},selectorId:"counts",total:0,countTotals:0,services:{facebook:"http://api.facebook.com/restserver.php?v=1.0&method=links.getStats&urls={url}&format=json",twitter:"http://cdn.api.twitter.com/1/urls/count.json?url={url}",linkedin:"http://www.linkedin.com/countserv/count/share?url={url}",delicious:"http://feeds.delicious.com/v2/json/urlinfo/data?url={url}",pinterest:"http://api.pinterest.com/v1/urls/count.json?url={url}"},responseKeys:{facebook:"like_count",twitter:null,reddit:"score",linkedin:null,delicious:"total_posts",stumbleupon:"views",pinterest:null,googleplus:null},responseObj:{facebook:function(e){return e[0]},delicious:function(e){return e[0]},reddit:function(e){return e.children.length>0?e.children[0]:null}},requestDataType:{},requestData:{},_create:function(){var e=this.options;this._super("_create"),this.url=e.url||window.location.href,this.$links=this.$element.find("[data-"+this.selectorId+"]"),this._setupRequests()},_setupRequests:function(){if(this.$links.length<=0)return a.log("Error: No links found in element.",this.$element),!1;var t,n=this,i=this.$links.length;this.$links.each(function(s,r){var l=e(r),c=l.data(n.popupId).toLowerCase(),u=n._getService(c),d="_load"+o.capitalize(c),p=0;n._loader("add",l),u?(n.load(c,u),t="socialcountsloaded"):e.isFunction(n[d])?n[d]():(a.log("Error: No service or custom function found for "+c,n.$element),n._loader("remove",l)),n.$element.on(t,function(e,t){p=t.count||0,n.total+=p,n._setTotal(i)})})},load:function(t,o){if(t.length<=0||o.length<=0)return a.log("Error: Service url or name not defined"),!1;var n=this,s=this.responseKeys[t]||"count",r=this.requestDataType[t]||"jsonp",l=this.requestData[t]||{};a.log("Requesting: "+t+"("+o+")"),e.ajax({dataType:r,url:o,data:l,timeout:n.options.timeout}).done(function(o,a,r){o=e.isFunction(n.responseObj[t])?n.responseObj[t](o):o;var l=i.deepFind(o,s)||{};n.setContent(t,l)}).fail(function(e,i,s){a.log("Error: "+t+"("+o+") response failed",e,i),n.setContent(t,{})})},_getService:function(e){var t=this.services[e],o=this._getServiceData();return t=n.compile(t,o,["urlencode"])},_getServiceData:function(){var t=this.options;return e.extend({url:this.url,googleplusKey:t.googleplusKey,facebookKey:t.facebookKey},t.data)},_loadGoogleplus:function(){var e=this.options,t='<div class="g-plusone" data-size="'+e.googleButtonType+'" data-href="'+this.url+'" data-count="true" data-callback="handleGooglePlusCallback"></div>',o=this._getLinkEl("googleplus"),n=this;o.html(t),window.handleGooglePlusCallback=function(e){"on"==e.state?"plusone":"rmvplusone"},require(["https://apis.google.com/js/plusone.js"],function(){window.handleGooglePlusCallback=function(e){var t="on"==e.state?"plusone":"rmvplusone";n._trigger(null,{button:"googleplus",type:t})}.bind(this),n._setupLoadEvent({el:o,name:"googleplus"})})},setContent:function(t,o){var n,i,a=this.options,s="[class="+a.containerClass+"]",r=0;return n=this._getLinkEl(t),i=n.find(s),i=i.length?i:e(a.containerTemplate).addClass(a.containerClass).addClass(a.containerClass+"-"+t).insertAfter(n).before(" "),a.showZeros&&"object"==typeof o&&(o="0"),"object"!=typeof o&&(r=parseInt(o,10),"human"===a.countType&&(o=this._getNormalizedCount(r)),i.text(o),n.addClass(a.loadedClass)),this._loader("remove",n),this._setupLoadEvent({el:n,name:t,count:r,type:"countSet"}),!0},_setTotal:function(e){var t=this.options,o=this.$element.find(t.totalContainerSelector),n="human"===t.countType?this._getNormalizedCount(this.total):this.total;return this.countTotals++,o.length<0?(a.log("Error: total container not found. Selector: "+t.totalContainerSelector),!1):(o.text(n),void(this.countTotals===e&&(this._setupLoadEvent({el:this.$element,type:"totalSet"}),this.$element.addClass(t.loadedClass))))},_setupLoadEvent:function(t){t=t||{};var o=this.options.location;o&&e.extend(t,{location:o}),this._trigger("loaded",null,t)},_getLinkEl:function(t){var o,n=this;return this.$links.filter(function(i){var a=e(this),s=a.attr("data-"+n.popupId).toLowerCase();return o=s===t?e(this):!1})},_getNormalizedCount:function(e){return e>=1e9?e=(e/1e9).toFixed(2)+"B":e>=1e6?e=(e/1e6).toFixed(2)+"M":e>=1e3&&(e=(e/1e3).toFixed(1)+"K"),e},_loader:function(e,t){var o=this.options;t=t||this.$element,"add"===e?t.addClass(o.loadingClass):t.removeClass(o.loadingClass)}})}),define("components/social-counts",["jquery","version!fly/managers/debug","translations/social-links","managers/page-vars","managers/tealium","managers/device","version!fly/utils/string-vars","version!fly/utils/object-helper","managers/edition","version!fly/components/social-counts","components/modal-email"],function(e,t,o,n,i,a,s,r,l){t=t.init("socialCounts"),e.support.touch?"vclick":"click",e.widget("cnet.socialCounts",e.fly.socialCounts,{options:{data:{media:e('meta[property="og:image"]').first().attr("content")}},$emailModal:null,totalCount:0,links:{email:function(t){a.isMobile()?window.location=s.compile("mailto:?subject={title}&body={url}%0D%0A%0D%0A{description}",this._getLinkData(),["urlencode"]):this.$emailModal?this.$emailModal.modalEmail("open"):this.$emailModal=e.cnet.modalEmail({openOnInit:!0,pageTitle:t.title,pageUrl:t.url}).$element},googleshare:"https://plus.google.com/share?url={url}&utm_content={title}&utm_campaign=&utm_medium=share%2Bbutton",twitter:function(e){var t="https://twitter.com/intent/tweet?text={title}&related={related}";return t+(e.shortUrl?"&url={shortUrl}&counturl={url}":"&url={url}")+"&via="+o.cnet},tumblr:"http://www.tumblr.com/share/link?url={url}"},getTotal:function(){return this.totalCount},_create:function(){var o=this,n={};this._super(),this._setupTracking(),e.each(this.links,function(e,t){"function"==typeof t&&(o.links[e]=t.bind(o))}),this._on(this.$element,n),"counts"===this.options.type&&this.options.noLinks&&(o._handlePopup=function(e){t.log("Blocked _handlePopup event")},o._handleLink=function(e){t.log("Blocked _handleLink event")})},_getLink:function(t,o,n){var i=this,a="json";if(!this.options.data.shortUrl){var s=(l.isEspanol()?"/es":"")+"/ShareBarUrlShortener/";"www.cnet.com"!==window.location.host&&(a="jsonp",s=window.location.protocol+"//www.cnet.com"+s);var r=i._super;e.ajax({url:s,data:{longUrl:this.options.url},dataType:a,callback:"callback",async:!1,success:function(e){i.options.data.shortUrl=e.data.url,n(r.call(i,t),o)}})}return"json"==a?this._super(t):void 0},popup:function(e,t){function o(e,t){e&&window.open(e,"button_share","width="+t.width+", height="+t.height+", left="+t.left+", top="+t.top+", personalbar=0, toolbar=0, scrollbars=1, resizable=1")}var n=this._getPopUpCoords(),i=this._getLink(t,n,o),a=this.$el;i&&(o(i,n),this._setupLoadEvent(e,{el:a,name:t,type:this.popupId}))},link:function(e,t){function o(e,t){e&&(window.location=e)}var n=this._getLink(t,{},o),i=this.$el;n?(o(n),this._setupLoadEvent(e,{el:i,name:t,type:this.linkId})):this.options.url&&"link"==t&&(n=this.options.url,o(n),this._setupLoadEvent(e,{el:i,name:t,type:this.linkId}))},_setupTracking:function(){e("[data-popup]",this.$element).on("click vclick ",function(t){var o=e(this).data("popup"),n={facebook:1,googlePlus:3,linkedin:4,pinterest:5,reddit:6,stumbleupon:7,twitter:8,delicious:12,tumblr:14,whatsapp:20};i.trackSocial({socialService:o,event:"share",levtEventType:"share",eventt:"socialsite",socialId:n[o],wd:"sharelink",sharebarSection:e(this).closest("[section]").attr("section")}),e(this).off("click vclick")}),"counts"===this.options.type&&this._bindCountsEvents()},_bindCountsEvents:function(){e("[data-link]",this.$element).on("click vclick",function(t){var o=e(this).data("link"),n={email:10};i.trackSocial({socialService:o,event:"share",levtEventType:"share",eventt:"socialsite",socialId:n[o],wd:"sharelink",sharebarSection:e(this).closest("[section]").attr("section")})}),e(".comment-count, .comment-countab",this.$element).on("click vclick",function(t){window.dwTag=e(this).closest("[section]").attr("section"),"object"==typeof n.tracking.data.collectionId?sharebarCollectionId=n.tracking.data.collectionId[0]:"string"==typeof n.tracking.data.collectionId?sharebarCollectionId=n.tracking.data.collectionId:sharebarCollectionId="",i.trackCustomEvent("trackShareBarComments",{_articleType:n.tracking.data.articleType,_pageType:n.tracking.data.pageType,siteEdition:n.tracking.data._siteEdition,
_siteTypeDevice:n.tracking.data._siteTypeDevice,clickGenericText:"show_comments",_dwLinkTag:e(this).closest("[section]").attr("section"),_collectionPrimaryId:sharebarCollectionId},"trackClick"),window.dwTag=null})},_loadGoogleplus:function(){var e=this.options,t='<div class="g-plusone" data-size="'+e.googleButtonType+'" data-href="'+this.url+'" data-count="true" data-callback="$.cnet.google.trackPlusOne"></div>',o=this._getLinkEl("googleplus");o.html(t),google.isInitialized()?google.parse(o[0]):google.init()},_loadGooglepluscounts:function(){var o="googlepluscounts",n=[{method:"pos.plusones.get",id:"p",params:{nolog:!0,id:this.url,source:"widget",userId:"@viewer",groupId:"@self"},jsonrpc:"2.0",key:"p",apiVersion:"v1"}];e.ajax({url:"https://clients6.google.com/rpc",type:"POST",contentType:"application/json",data:JSON.stringify(n),dataType:"json",success:function(e){if("object"==typeof e&&e.length){var n=e[0].result.metadata.globalCounts.count;self.setContent(o,n),t.log("G+ Count:",n)}else t.log("Failed to get Google+ count")},error:function(){t.log("Failed to get Google+ count")}})},load:function(o,n){if(o.length<=0||n.length<=0)return t.log("Error: Service url or name not defined"),!1;var i=this,a=this.responseKeys[o]||"count",s=this.requestDataType[o]||"jsonp",l=this.requestData[o]||{};e.ajax({dataType:s,url:n,data:l,timeout:5e3}).done(function(t,n,s){t=e.isFunction(i.responseObj[o])?i.responseObj[o](t):t;var l=r.deepFind(t,a)||{};i.setContent(o,l),l===parseInt(l,10)&&(i.totalCount+=l,i.$element.trigger("socialCountTotalUpdate",i.totalCount))}).fail(function(e,n,a){t.log("Error: "+o+" response failed",e,n),i.setContent(o,{})})},setUrl:function(e){this.options.url=e,this.options.data.url=e,this.options.data.shortUrl=null},setData:function(e,t){this.options.data[e]=t}})}),!function(){"use strict";function e(n){if(!n)throw new Error("No options passed to Waypoint constructor");if(!n.element)throw new Error("No element option passed to Waypoint constructor");if(!n.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+t,this.options=e.Adapter.extend({},e.defaults,n),this.element=this.options.element,this.adapter=new e.Adapter(this.element),this.callback=n.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=e.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=e.Context.findOrCreateByElement(this.options.context),e.offsetAliases[this.options.offset]&&(this.options.offset=e.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),o[this.key]=this,t+=1}var t=0,o={};e.prototype.queueTrigger=function(e){this.group.queueTrigger(this,e)},e.prototype.trigger=function(e){this.enabled&&this.callback&&this.callback.apply(this,e)},e.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete o[this.key]},e.prototype.disable=function(){return this.enabled=!1,this},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},e.prototype.next=function(){return this.group.next(this)},e.prototype.previous=function(){return this.group.previous(this)},e.invokeAll=function(e){var t=[];for(var n in o)t.push(o[n]);for(var i=0,a=t.length;a>i;i++)t[i][e]()},e.destroyAll=function(){e.invokeAll("destroy")},e.disableAll=function(){e.invokeAll("disable")},e.enableAll=function(){e.invokeAll("enable")},e.refreshAll=function(){e.Context.refreshAll()},e.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},e.viewportWidth=function(){return document.documentElement.clientWidth},e.adapters=[],e.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},e.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=e}(),function(){"use strict";function e(e){window.setTimeout(e,1e3/60)}function t(e){this.element=e,this.Adapter=i.Adapter,this.adapter=new this.Adapter(e),this.key="waypoint-context-"+o,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},e.waypointContextKey=this.key,n[e.waypointContextKey]=this,o+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var o=0,n={},i=window.Waypoint,a=window.onload;t.prototype.add=function(e){var t=e.options.horizontal?"horizontal":"vertical";this.waypoints[t][e.key]=e,this.refresh()},t.prototype.checkEmpty=function(){var e=this.Adapter.isEmptyObject(this.waypoints.horizontal),t=this.Adapter.isEmptyObject(this.waypoints.vertical);e&&t&&(this.adapter.off(".waypoints"),delete n[this.key])},t.prototype.createThrottledResizeHandler=function(){function e(){t.handleResize(),t.didResize=!1}var t=this;this.adapter.on("resize.waypoints",function(){t.didResize||(t.didResize=!0,i.requestAnimationFrame(e))})},t.prototype.createThrottledScrollHandler=function(){function e(){t.handleScroll(),t.didScroll=!1}var t=this;this.adapter.on("scroll.waypoints",function(){(!t.didScroll||i.isTouch)&&(t.didScroll=!0,i.requestAnimationFrame(e))})},t.prototype.handleResize=function(){i.Context.refreshAll()},t.prototype.handleScroll=function(){var e={},t={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var o in t){var n=t[o],i=n.newScroll>n.oldScroll,a=i?n.forward:n.backward;for(var s in this.waypoints[o]){var r=this.waypoints[o][s],l=n.oldScroll<r.triggerPoint,c=n.newScroll>=r.triggerPoint,u=l&&c,d=!l&&!c;(u||d)&&(r.queueTrigger(a),e[r.group.id]=r.group)}}for(var p in e)e[p].flushTriggers();this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.innerHeight=function(){return this.element==this.element.window?i.viewportHeight():this.adapter.innerHeight()},t.prototype.remove=function(e){delete this.waypoints[e.axis][e.key],this.checkEmpty()},t.prototype.innerWidth=function(){return this.element==this.element.window?i.viewportWidth():this.adapter.innerWidth()},t.prototype.destroy=function(){var e=[];for(var t in this.waypoints)for(var o in this.waypoints[t])e.push(this.waypoints[t][o]);for(var n=0,i=e.length;i>n;n++)e[n].destroy()},t.prototype.refresh=function(){var e,t=this.element==this.element.window,o=this.adapter.offset(),n={};this.handleScroll(),e={horizontal:{contextOffset:t?0:o.left,contextScroll:t?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:t?0:o.top,contextScroll:t?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var i in e){var a=e[i];for(var s in this.waypoints[i]){var r,l,c,u,d,p=this.waypoints[i][s],h=p.options.offset,m=p.triggerPoint,f=0,g=null==m;p.element!==p.element.window&&(f=p.adapter.offset()[a.offsetProp]),"function"==typeof h?h=h.apply(p):"string"==typeof h&&(h=parseFloat(h),p.options.offset.indexOf("%")>-1&&(h=Math.ceil(a.contextDimension*h/100))),r=a.contextScroll-a.contextOffset,p.triggerPoint=f+r-h,l=m<a.oldScroll,c=p.triggerPoint>=a.oldScroll,u=l&&c,d=!l&&!c,!g&&u?(p.queueTrigger(a.backward),n[p.group.id]=p.group):!g&&d?(p.queueTrigger(a.forward),n[p.group.id]=p.group):g&&a.oldScroll>=p.triggerPoint&&(p.queueTrigger(a.forward),n[p.group.id]=p.group)}}for(var v in n)n[v].flushTriggers();return this},t.findOrCreateByElement=function(e){return t.findByElement(e)||new t(e)},t.refreshAll=function(){for(var e in n)n[e].refresh()},t.findByElement=function(e){return n[e.waypointContextKey]},window.onload=function(){a&&a(),t.refreshAll()},i.requestAnimationFrame=function(t){var o=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e;o.call(window,t)},i.Context=t}(),function(){"use strict";function e(e,t){return e.triggerPoint-t.triggerPoint}function t(e,t){return t.triggerPoint-e.triggerPoint}function o(e){this.name=e.name,this.axis=e.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),n[this.axis][this.name]=this}var n={vertical:{},horizontal:{}},i=window.Waypoint;o.prototype.add=function(e){this.waypoints.push(e)},o.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},o.prototype.flushTriggers=function(){for(var o in this.triggerQueues){var n=this.triggerQueues[o],i="up"===o||"left"===o;n.sort(i?t:e);for(var a=0,s=n.length;s>a;a+=1){var r=n[a];(r.options.continuous||a===n.length-1)&&r.trigger([o])}}this.clearTriggerQueues()},o.prototype.next=function(t){this.waypoints.sort(e);var o=i.Adapter.inArray(t,this.waypoints),n=o===this.waypoints.length-1;return n?null:this.waypoints[o+1]},o.prototype.previous=function(t){this.waypoints.sort(e);var o=i.Adapter.inArray(t,this.waypoints);return o?this.waypoints[o-1]:null},o.prototype.queueTrigger=function(e,t){this.triggerQueues[t].push(e)},o.prototype.remove=function(e){var t=i.Adapter.inArray(e,this.waypoints);t>-1&&this.waypoints.splice(t,1)},o.prototype.first=function(){return this.waypoints[0]},o.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},o.findOrCreate=function(e){return n[e.axis][e.name]||new o(e)},i.Group=o}(),function(){"use strict";function e(e){this.$element=t(e)}var t=window.jQuery,o=window.Waypoint;t.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(t,o){e.prototype[o]=function(){var e=Array.prototype.slice.call(arguments);return this.$element[o].apply(this.$element,e)}}),t.each(["extend","inArray","isEmptyObject"],function(o,n){e[n]=t[n]}),o.adapters.push({name:"jquery",Adapter:e}),o.Adapter=e}(),function(){"use strict";function e(e){return function(){var o=[],n=arguments[0];return e.isFunction(arguments[0])&&(n=e.extend({},arguments[1]),n.handler=arguments[0]),this.each(function(){var i=e.extend({},n,{element:this});"string"==typeof i.context&&(i.context=e(this).closest(i.context)[0]),o.push(new t(i))}),o}}var t=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=e(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=e(window.Zepto))}(),define("libs/waypoints/jquery.waypoints-3.1.1",function(){}),define("components/sharebar",["jquery","managers/tealium","managers/page-vars","version!fly/managers/debug","components/social-counts","version!fly/components/base","version!libs/modernizr.custom","version!fly/libs/jquery.throttle-debounce","version!libs/waypoints/jquery.waypoints"],function(e,t,o,n){n=n.init("sharebar");var i=e.support.touch?"vclick":"click";e.widget("cnet.sharebar",e.fly.base,{options:{viewClasses:{inline:"inline-view",side:"side-view"},enableViewToggling:!1,selectorContainer:null,containerClass:"count",showZeros:!0,throttle:!1,data:{media:e('meta[property="og:image"]').first().attr("content")},type:"counts"},$buttons:null,$links:null,lastScrollPosition:0,maxInnerHeight:0,isPastScrollTopZero:!1,disableScrollShowLogic:!1,_create:function(){this._setup(),this.options.title||(this.options.title=e("meta[property='og:title']").attr("content")),this.options.description||(this.options.description=e("meta[property='og:description']").attr("content")),this.options.url||(this.options.url=e("meta[property='og:url']").attr("content")),this.options.selectorContainer&&this.$element.appendTo(this.options.selectorContainer),this.options.enableViewToggling&&(this.updateView(),this.$element.fixate&&this.$element.fixate("checkPosition")),this.$links=this.$element.socialCounts(this.options),this._setupEvents()},_setupEvents:function(){var t=this;this.options.enableViewToggling&&this.$window.on("resize.sharebar",function(){this.updateView()}.bind(this)),e(".share-button.googleButton .hoverWrap").on("mouseenter",function(t){e(".share-button.googleButton").addClass("active")}),e(".share-button.googleButton .hoverWrap").on("mouseleave",function(t){e(".share-button.googleButton").removeClass("active")}),this.$element.on("click","a[href='#comments']",function(t){t.preventDefault(),$livefyreContainer=e(".livefyreContainer"),e("html, body").animate({scrollTop:(0===$livefyreContainer.length?e("#livefyreContainer-"+e(this).parent().attr("data-livefyre-count")):$livefyreContainer).offset().top-e("#primary").height()},0)}),this.$element.on("click",".comment-count-redesign a",function(t){t.preventDefault(),$livefyreContainer=e("#livefyreContainer"),e("html, body").animate({scrollTop:(0===$livefyreContainer.length?e("#livefyreContainer-"+e(this).parent().attr("data-livefyre-count-redesign")):$livefyreContainer).offset().top-e("#primary").height()},0),e("#livefyreContainer-"+e(this).parent().attr("data-livefyre-count-redesign")).parent().addClass("selected").removeClass("hidden")});var o=e(".cnet-content-panel .mobile-nav-share");o.length&&o.on(i,function(){t._displayHideSharebar()}),this.options.throttle&&(this._on(this.$document,{scroll:e.throttle(200,this._checkShowSharebar)}),e("[data-sharebar-waypoint]").length&&(e("img[data-original]").each(function(){e(this).one("load",function(){Waypoint.refreshAll()})}),this._setupWaypoint()))},updateView:function(t){t?(e.each(this.options.viewClasses,function(e,t){this.$element.removeClass(t)}.bind(this)),this.$element.addClass(t)):this.$window.width()<1430?this.updateView(this.options.viewClasses.inline):this.updateView(this.options.viewClasses.side)},_checkShowSharebar:function(){var t=this.$window.scrollTop(),o=this;this.lastScrollPosition>=t&&e(window).scrollTop()+e(window).height()<e("body").height()&&!e(this.element).hasClass("show")&&!this.disableScrollShowLogic?e(this.element).addClass("show"):this.lastScrollPosition<=t&&e(window).scrollTop()>0&&e(this.element).hasClass("show")&&this.maxInnerHeight==window.innerHeight&&!this.disableScrollShowLogic&&e(this.element).removeClass("show"),e(this.element).hasClass("show")&&e(window).scrollTop()<=0&&this.isPastScrollTopZero&&window.setTimeout(function(){e(o.element).removeClass("show")},2e3),this.lastScrollPosition=t,!this.isPastScrollTopZero&&t>0&&(this.isPastScrollTopZero=!0),this.maxInnerHeight<window.innerHeight&&(this.maxInnerHeight=window.innerHeight)},_displayHideSharebar:function(){e(this.element).hasClass("show")?e(this.element).hasClass("show")&&e(this.element).removeClass("show"):e(this.element).addClass("show")},_setupWaypoint:function(){var t=this;new Waypoint({element:e("[data-sharebar-waypoint]"),handler:function(o){t.disableScrollShowLogic=!0,e(t.element).addClass("show"),window.setTimeout(function(){t.disableScrollShowLogic=!1},4e3),this.destroy()},offset:"bottom-in-view"})},_trackAction:function(n,i){window.dwTag=i._dwLinkTag,t.trackCustomEvent("socialShareBarPosition",e.extend(!0,{},{pageType:o.tracking.data.pageType,siteEdition:o.tracking.data.siteEdition,siteType:o.tracking.data.siteType,deviceType:o.tracking.data.deviceType,siteSection:o.tracking.data.siteSection,_pageChannelType:o.tracking.data._pageChannelType,articleId:o.tracking.data.articleId,articleTitle:o.tracking.data.articleTitle,articleType:o.tracking.data.articleType,_collectionPrimaryId:o.tracking.data._collectionPrimaryId,siteHier:o.tracking.data.siteHier,_pageTitle:o.tracking.data._pageTitle},i),"trackClick")}})}),define("fly/managers/history-1.0",["jquery","version!fly/utils/string-vars"],function(e,t){"use strict";var o=window.history,n=e(window),i=0,a="pushState"in o&&"replaceState"in o&&!(window.navigator.userAgent.indexOf("Firefox")>=0&&window.top!==window)&&-1===window.navigator.userAgent.search(/CriOS/),s=function(e,t){e=e||{},i+=1,this.id="history-"+i,this.title=e.title,this.route=e.route,this.originalTitle=document.title,t&&this.navigate(t,{replace:!0})};return s.prototype={constructor:s,navigate:function(n,i){if(!a)return!1;e.extend(!0,n,{historyId:this.id}),i=i||{};var s=i.title||this.title,r=i.url||this.route;s=t.compile(e.isFunction(s)?s(n):s,e.extend({title:this.originalTitle},n)),r=t.compile(e.isFunction(r)?r(n):r,n),o[i.replace?"replaceState":"pushState"](n,s,r),s&&(document.title=s)},stateChange:function(t){if(!a)return!1;var i=this;n.on("popstate."+this.id,function(){var n=o.state||{};n.historyId===i.id&&e.isFunction(t)&&t(n)})},stop:function(){return a?void n.off("popstate."+this.id):!1}},{init:function(e,t){return new s(e,t)}}}),define("managers/waypoints",["jquery","version!fly/managers/debug","version!libs/waypoints/jquery.waypoints","version!fly/libs/jquery.throttle-debounce"],function(e,t){t=t.init("waypoints");var o=!1,n={init:function(){o||(o=!0,e(window).on("scroll",e.throttle(500,function(){Waypoint.refreshAll()})))}};return n}),define("libs/waypoints/inview-3.1.1",["version!libs/waypoints/jquery.waypoints"],function(){"use strict";function e(){}function t(e){this.options=o.Adapter.extend({},t.defaults,e),this.axis=this.options.horizontal?"horizontal":"vertical",this.waypoints=[],this.createWaypoints()}var o=window.Waypoint;t.prototype.createWaypoints=function(){for(var e={vertical:[{down:"enter",up:"exited",offset:"100%"},{down:"entered",up:"exit",offset:"bottom-in-view"},{down:"exit",up:"entered",offset:-1},{down:"exited",up:"enter",offset:function(){return-this.adapter.outerHeight()}}],horizontal:[{right:"enter",left:"exited",offset:"100%"},{right:"entered",left:"exit",offset:"right-in-view"},{right:"exit",left:"entered",offset:0},{right:"exited",left:"enter",offset:function(){return-this.adapter.outerWidth()}}]},t=0,o=e[this.axis].length;o>t;t++){var n=e[this.axis][t];this.createWaypoint(n)}},t.prototype.createWaypoint=function(e){var t=this;this.waypoints.push(new o({element:this.options.element,handler:function(e){return function(o){t.options[e[o]].call(this,o)}}(e),offset:e.offset,horizontal:this.options.horizontal}))},t.prototype.destroy=function(){for(var e=0,t=this.waypoints.length;t>e;e++)this.waypoints[e].destroy();this.waypoints=[]},t.defaults={enter:e,entered:e,exit:e,exited:e},o.Inview=t}),define("components/magnet",["jquery","version!fly/managers/debug","version!fly/managers/components","version!fly/managers/gpt","managers/page-vars","managers/tealium","managers/guid","managers/ad","version!fly/managers/history","managers/waypoints","version!fly/utils/url-helper","version!fly/components/base","components/loading","version!libs/waypoints/inview"],function(e,t,o,n,i,a,s,r,l,c,u){var d=t.init("magnet");c.init(),e.widget("cnet.magnet",e.fly.base,{options:{adRefreshTimeout:0,topItemOffset:79,tocWrapper$$:".tocNav"},isAdCallsPaused:!1,history:null,webWorker:null,waiter:null,assetIds:[],assetData:{},assetMeta:{},$tocWrapper:null,_create:function(){d.log("Initializing"),this._setup(),this.$tocWrapper=e(this.options.tocWrapper$$).first(),this.waiter=e.cnet.loading();var t="",o=(window.location.search?"&":"?")+"articleIndex=",n=this.$element.children().first().find(".howto").length>0?0:1;e("[data-toc-asset-options]",this.$tocWrapper).each(function(i,a){t=e(a).data("toc-asset-options"),0===this._getContainer(t.id).length&&this.$element.append('<div class="pageContainer" data-container-asset-id="'+t.id+'" data-teads-num="'+(i+1)+'"></div>'),this.assetIds[i]=t.id,this.assetData[t.id]={},this.assetMeta[t.id]={waypoints:[],ajaxUrl:t.ajaxUrl+window.location.search+o+(i+n)}}.bind(this)),e.extend(!0,this.assetData[this.assetIds[0]],{adData:i.ads.data,trackingData:i.tracking.data,url:window.location.href,title:window.document.title}),e.extend(!0,this.assetMeta[this.assetIds[0]],{isInMemory:!1,isInDom:!0,isActivated:!0,isInFocus:!0}),window.Worker,this.history=l.init(),this._setupWaypoints(this.assetIds[0]),this._setupEvents()},_setupEvents:function(){e("#rbContent").on("click",'.toggleComments[data-item="trigger"]',{},function(t){e(t.currentTarget.parentElement).removeClass("hidden"),this._trackCustomEvent("trackShowComments","show-comment")}.bind(this)),this.history.stateChange(function(e){d.log("PushState state changed; requested asset ",e.index),void 0!=e.index?this._jumpToAsset(e.index):d.log("PushState state asset unavailable!")}.bind(this)),this.$tocWrapper.on("tocNavRequest",function(e,t){this._jumpToAsset(t.assetId)}.bind(this)),this.webWorker&&this.webWorker.addEventListener("message",function(t){"fetchAsset"===t.cmd&&("success"===t.status?(e.extend(!0,this.assetData[t.data.id],t.data),this._injectAsset(t.data.id,t.data)):(d.log("WebWorker request failed",t.error),this.waiter.remove(),this.waiter.$element.remove()))}.bind(this),!1)},_fetchAsset:function(t,o){this.assetMeta[t].isInDom?(d.log("Asset #"+e.inArray(t,this.assetIds)+" already on the page."),"function"==typeof o&&o(t)):this.assetMeta[t].isInMemory?(d.log("Asset #"+e.inArray(t,this.assetIds)+" already in memory."),this._injectAsset(t,this.assetData[t]),"function"==typeof o&&o(t)):this.webWorker?(d.log("Fetching asset #"+e.inArray(t,this.assetIds)+" via Web Worker."),this.webWorker.postMessage({cmd:"fetchAsset",data:url})):(d.log("Fetching asset #"+e.inArray(t,this.assetIds)+" via AJAX."),e.ajax({url:this.assetMeta[t].ajaxUrl}).done(function(n){"string"==typeof n&&(n=JSON.parse(e.trim(n))),"object"==typeof n&&n.template?(e.extend(!0,this.assetData[t],n),e.extend(!0,this.assetMeta[t],{isInMemory:!0}),this._injectAsset(t,n),"function"==typeof o&&o(t)):(d.log("AJAX response could not be processed."),this.waiter.remove(),this.waiter.$element.remove())}.bind(this)).fail(function(e,t,o){d.log("AJAX request failed:",o),this.waiter.remove(),this.waiter.$element.remove()}.bind(this)))},_injectAsset:function(t,n){d.log("Injecting asset #"+e.inArray(t,this.assetIds));var i=this._getContainer(t),a=e.inArray(t,this.assetIds)+1,s=e.inArray(t,this.assetIds);0===s||s>0&&!this.assetMeta[this.assetIds[s-1]].isInDom?(this._pauseWaypoints(!0),i.html(n.template),this._pauseWaypoints(!1),this.assetMeta[t].isInDom=!0,o.process(i),this._pauseWaypoints(!0),this.$window.scrollTop(this.$window.scrollTop()+i.outerHeight(!0)),this._pauseWaypoints(!1)):(i.html(n.template),this.assetMeta[t].isInDom=!0,o.process(i)),e(i).find("#rbSkin").attr("data-article-num",a),this._setupWaypoints(t)},_jumpToAsset:function(t){var o=this._getContainer(t);this.assetMeta[t].isInDom?(d.log("Jumping to asset #"+e.inArray(t,this.assetIds+" already in the DOM.")),this.$window.scrollTop(o.offset().top-this.options.topItemOffset),this._trackCustomEvent("trackMagnetJumpNewPage","scrollTo."+e.inArray(t,this.assetIds))):(d.log("Fetching, injecting, and jumping to asset #"+e.inArray(t,this.assetIds)),this.waiter.$element.appendTo(this.$element),this.waiter.add(),this._fetchAsset(t,function(){this._pauseWaypoints(!0),this.$window.scrollTop(o.offset().top-this.options.topItemOffset),this._pauseWaypoints(!1),this._trackCustomEvent("trackMagnetJumpNewPage","scrollTo."+e.inArray(t,this.assetIds)),this._showAsset(t);var n=e.inArray(t,this.assetIds);n>0&&this._fetchAsset(this.assetIds[n-1]),n<this.assetIds.length-1&&this._fetchAsset(this.assetIds[n+1])}.bind(this)))},_showAsset:function(t){if(this.assetMeta[t].isInFocus)d.log("Asset #"+e.inArray(t,this.assetIds)+" already in focus.");else{d.log("Showing & activating asset #"+e.inArray(t,this.assetIds));var o=this.assetData[t];e("body").attr("data-cms-edit",'{"url":"http:\\/\\/cms-beta.cnet.com\\/content\\/article\\/'+t+'"}'),e('head link[rel="canonical"]').attr("href",o.href),this.history.navigate({index:t},{title:o.title,url:o.url.split("?")[0]+this._getParamUrl()}),i.ads.data=o.adData,i.tracking.data=o.trackingData,s.resetViewGuid(),this._loadAds(t,this.assetMeta[t].isActivated),this._trackPageLoad(),this.$tocWrapper.trigger("tocNavSelection",{index:e.inArray(t,this.assetIds)}),this.assetMeta[t].isActivated=!0,e.each(this.assetMeta,function(e,t){t.isInFocus=!1}),this.assetMeta[t].isInFocus=!0,this.waiter.remove(),this.waiter.$element.remove(),this._performMaintenance(t)}},_performMaintenance:function(t){d.log("Cleaning up containers based on current asset #"+e.inArray(t,this.assetIds));var o=this._getContainer(t),n=[o.prev("[data-container-asset-id]").data("container-asset-id"),t,o.next("[data-container-asset-id]").data("container-asset-id")];e.each(this.assetIds,function(t,o){-1===e.inArray(o,n)&&this.assetMeta[o].isInDom&&this._purgeAsset(o)}.bind(this))},_purgeAsset:function(t){d.log("Emptying container for asset #"+e.inArray(t,this.assetIds));var o=this._getContainer(t);e.each(this.assetMeta[t].waypoints,function(e,t){t.destroy()}),this.assetData[t]={},e.extend(!0,this.assetMeta[t],{isInMemory:!1,isInDom:!1,isActivated:!1,isInFocus:!1});var n=e.inArray(t,this.assetIds);if(0===n||n>0&&!this.assetMeta[this.assetIds[n-1]].isInDom){var i=this.$window.scrollTop()-o.outerHeight(!0);this._pauseWaypoints(!0),o.empty(),this.$window.scrollTop(i),this._pauseWaypoints(!1)}else o.empty()},_loadAds:function(t,o){var a=o?"refresh":"load";try{if(d.log("Ad "+a+" requested for asset #"+e.inArray(t,this.assetIds)),this.isAdCallsPaused)d.log("Ad "+a+" aborted for asset #"+e.inArray(t,this.assetIds));else{var s=this.assetData[t];i.ads.data=e.extend(!0,{},s.adData),void 0==i.ads.data.gpt.targeting.collection&&(i.ads.data.gpt.targeting.collection=""),r.setupTargeting(),n.init(i.ads.data.gpt),e.each(i.ads.data.gpt.targeting,function(e,t){n.setTargeting(e,t)}),o?(n.refresh(s.adData.gpt.containerId),this._refreshYahooPromo(t)):n.loadAds(),this.isAdCallsPaused=!0,window.setTimeout(function(){this.isAdCallsPaused=!1}.bind(this),this.options.adRefreshTimeout)}}catch(l){d.log("Ad "+a+" failed for asset #"+e.inArray(t,this.assetIds),l)}},_refreshYahooPromo:function(t){d.log("Yahoo promo refresh requested for asset #"+e.inArray(t,this.assetIds));var o=e(".yad-magnet iframe",this._getContainer(t));o?o.attr("src",o.attr("src")):d.log("Yahoo promo refresh failed for asset #"+e.inArray(t,this.assetIds))},_trackCustomEvent:function(e,t){d.log("Track custom event: "+e);var o=i.tracking.data;a.trackCustomEvent(e,{_articleTitle:o.articleTitle,_articleId:o.articleId,_authorPrimaryName:o._authorPrimaryName,_articleType:o.articleType,_pageType:o.pageType,_test:o._test,siteEdition:o._siteEdition,_siteTypeDevice:o._siteTypeDevice,_siteHier:o._siteHier,_pageViewGuid:o._pageViewGuid,browserTitle:document.title,topicId:o.topicId,collectionId:o.collectionId?o.collectionId:"",articleAuthorName:o.articleAuthorName,articleAuthorGuid:o.articleAuthorId,clickGenericText:t},"trackClick")},_trackPageLoad:function(){d.log("Track page load event");var t=i.tracking.data;a.init(t),a.trackPageLoad(e.extend(!0,{},t,{viewguid:i.pageViewGuid,title:t.articleTitle,_pageViewGuid:i.pageViewGuid,_topicPrimaryId:t.topicId[0],_pageUrl:window.location.href}))},_setupWaypoints:function(t){d.log("Waypoints attached for asset #"+e.inArray(t,this.assetIds));var o=this._getContainer(t),n=this,i=e("article",o).first();this.assetMeta[t].waypoints.push(new Waypoint.Inview({element:i,exit:function(i){d.log("Waypoint (injection) reached for asset #"+e.inArray(t,n.assetIds));var a="down"===i?o.next("[data-container-asset-id]"):o.prev("[data-container-asset-id]");a.length>0&&!e.trim(a.html())&&n._isInViewport(e(this.element).parents("[data-container-asset-id]")[0])&&n._fetchAsset(a.data("container-asset-id"))}})),this.assetMeta[t].waypoints.push(new Waypoint.Inview({element:i,enter:function(o){d.log("Waypoint (activation) reached for asset #"+e.inArray(t,n.assetIds)),!n.assetMeta[t].isInFocus&&n._isInViewport(this.element)&&(n._trackCustomEvent("trackMagnetScrollNewPage",o+"."+e.inArray(t,n.assetIds)),n._showAsset(t))}})),this.assetMeta[t].waypoints.push(new Waypoint.Inview({element:i,entered:function(e){"down"===e&&n._trackCustomEvent("percentageScrollTracking","scroll100")}}))},_pauseWaypoints:function(t){e.each(this.assetMeta,function(o,n){e.each(n.waypoints,function(o,n){e.each(n.waypoints,function(e,o){t?o.disable():o.enable()})})}),d.log(t?"Waypoints disabled":"Waypoints enabled")},_isInViewport:function(t){t=e(t);var o=this.$window.scrollTop(),n=o+this.$window.height(),i=t.offset().top,a=i+t.outerHeight();return n>i&&a>o},_getContainer:function(t){return t?e("[data-container-asset-id="+t+"]",this.$element):e("[data-container-asset-id]",this.$element)},_getParamUrl:function(){var t=["ab","adNetwork","debug","twigComments","adRegion","adCountry","adSession","adSubSession","jsDebug","setDevice"],o=u.getAllParams(),n="?";return e.each(o,function(o,i){""==o||-1==e.inArray(o,t)&&-1==o.search("adTargeting_")||(n+=o+"="+i+"&")}),n=n.substring(0,n.length-1)}})}),!function(e,t,o){"function"==typeof define&&define.amd?define("libs/jquery/mobile-1.4.0a1",["jquery"],function(n){return o(n,e,t),n.mobile}):o(e.jQuery,e,t)}(this,document,function(e,t,o,n){!function(e,t,o,n){function i(e){for(;e&&"undefined"!=typeof e.originalEvent;)e=e.originalEvent;return e}function a(t,o){var a,s,r,l,c,u,d,p,h,m=t.type;if(t=e.Event(t),t.type=o,a=t.originalEvent,s=e.event.props,m.search(/^(mouse|click)/)>-1&&(s=I),a)for(d=s.length,l;d;)l=s[--d],t[l]=a[l];if(m.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),-1!==m.search(/^touch/)&&(r=i(a),m=r.touches,c=r.changedTouches,u=m&&m.length?m[0]:c&&c.length?c[0]:n))for(p=0,h=A.length;h>p;p++)l=A[p],t[l]=u[l];return t}function s(t){for(var o,n,i={};t;){o=e.data(t,x);for(n in o)o[n]&&(i[n]=i.hasVirtualBinding=!0);t=t.parentNode}return i}function r(t,o){for(var n;t;){if(n=e.data(t,x),n&&(!o||n[o]))return t;t=t.parentNode}return null}function l(){N=!1}function c(){N=!0}function u(){H=0,j.length=0,O=!1,c()}function d(){l()}function p(){h(),P=setTimeout(function(){P=0,u()},e.vmouse.resetTimerDuration)}function h(){P&&(clearTimeout(P),P=0)}function m(t,o,n){var i;return(n&&n[t]||!n&&r(o.target,t))&&(i=a(o,t),e(o.target).trigger(i)),i}function f(t){var o,n=e.data(t.target,S);O||H&&H===n||(o=m("v"+t.type,t),o&&(o.isDefaultPrevented()&&t.preventDefault(),o.isPropagationStopped()&&t.stopPropagation(),o.isImmediatePropagationStopped()&&t.stopImmediatePropagation()))}function g(t){var o,n,a,r=i(t).touches;r&&1===r.length&&(o=t.target,n=s(o),n.hasVirtualBinding&&(H=F++,e.data(o,S,H),h(),d(),D=!1,a=i(t).touches[0],L=a.pageX,M=a.pageY,m("vmouseover",t,n),m("vmousedown",t,n)))}function v(e){N||(D||m("vmousecancel",e,s(e.target)),D=!0,p())}function y(t){if(!N){var o=i(t).touches[0],n=D,a=e.vmouse.moveDistanceThreshold,r=s(t.target);D=D||Math.abs(o.pageX-L)>a||Math.abs(o.pageY-M)>a,D&&!n&&m("vmousecancel",t,r),m("vmousemove",t,r),p()}}function w(e){if(!N){c();var t,o,n=s(e.target);m("vmouseup",e,n),D||(t=m("vclick",e,n),t&&t.isDefaultPrevented()&&(o=i(e).changedTouches[0],j.push({touchID:H,x:o.clientX,y:o.clientY}),O=!0)),m("vmouseout",e,n),D=!1,p()}}function b(t){var o,n=e.data(t,x);if(n)for(o in n)if(n[o])return!0;return!1}function k(){}function _(t){var o=t.substr(1);return{setup:function(){b(this)||e.data(this,x,{});var n=e.data(this,x);n[t]=!0,q[t]=(q[t]||0)+1,1===q[t]&&R.bind(o,f),e(this).bind(o,k),U&&(q.touchstart=(q.touchstart||0)+1,1===q.touchstart&&R.bind("touchstart",g).bind("touchend",w).bind("touchmove",y).bind("scroll",v))},teardown:function(){--q[t],q[t]||R.unbind(o,f),U&&(--q.touchstart,q.touchstart||R.unbind("touchstart",g).unbind("touchmove",y).unbind("touchend",w).unbind("scroll",v));var n=e(this),i=e.data(this,x);i&&(i[t]=!1),n.unbind(o,k),b(this)||n.removeData(x)}}}var C,T,x="virtualMouseBindings",S="virtualTouchID",$="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),A="clientX clientY pageX pageY screenX screenY".split(" "),E=e.event.mouseHooks?e.event.mouseHooks.props:[],I=e.event.props.concat(E),q={},P=0,L=0,M=0,D=!1,j=[],O=!1,N=!1,U="addEventListener"in o,R=e(o),F=1,H=0;for(e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},T=0;T<$.length;T++)e.event.special[$[T]]=_($[T]);U&&o.addEventListener("click",function(t){var o,n,i,a,s,r,l=j.length,c=t.target;if(l)for(o=t.clientX,n=t.clientY,C=e.vmouse.clickDistanceThreshold,i=c;i;){for(a=0;l>a;a++)if(s=j[a],
r=0,i===c&&Math.abs(s.x-o)<C&&Math.abs(s.y-n)<C||e.data(i,S)===s.touchID)return t.preventDefault(),void t.stopPropagation();i=i.parentNode}},!0)}(e,t,o),function(e){e.mobile={}}(e),function(e,t){var n={touch:"ontouchend"in o};e.mobile.support=e.mobile.support||{},e.extend(e.support,n),e.extend(e.mobile.support,n)}(e),function(e,t,n){function i(t,o,n){var i=n.type;n.type=o,e.event.dispatch.call(t,n),n.type=i}var a=e(o),s=e.mobile.support.touch,r="touchmove scroll",l=s?"touchstart":"mousedown",c=s?"touchend":"mouseup",u=s?"touchmove":"mousemove";e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,o){e.fn[o]=function(e){return e?this.bind(o,e):this.trigger(o)},e.attrFn&&(e.attrFn[o]=!0)}),e.event.special.scrollstart={enabled:!0,setup:function(){function t(e,t){o=t,i(a,o?"scrollstart":"scrollstop",e)}var o,n,a=this,s=e(a);s.bind(r,function(i){e.event.special.scrollstart.enabled&&(o||t(i,!0),clearTimeout(n),n=setTimeout(function(){t(i,!1)},50))})},teardown:function(){e(this).unbind(r)}},e.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var t=this,o=e(t),n=!1;o.bind("vmousedown",function(s){function r(){clearTimeout(u)}function l(){r(),o.unbind("vclick",c).unbind("vmouseup",r),a.unbind("vmousecancel",l)}function c(e){l(),n||d!==e.target?n&&e.stopPropagation():i(t,"tap",e)}if(n=!1,s.which&&1!==s.which)return!1;var u,d=s.target;o.bind("vmouseup",r).bind("vclick",c),a.bind("vmousecancel",l),u=setTimeout(function(){e.event.special.tap.emitTapOnTaphold&&(n=!0),i(t,"taphold",e.Event("taphold",{target:d}))},e.event.special.tap.tapholdThreshold)})},teardown:function(){e(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),a.unbind("vmousecancel")}},e.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:10,verticalDistanceThreshold:75,start:function(t){var o=t.originalEvent.touches?t.originalEvent.touches[0]:t;return{time:(new Date).getTime(),coords:[o.pageX,o.pageY],origin:e(t.target)}},stop:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e;return{time:(new Date).getTime(),coords:[t.pageX,t.pageY]}},handleSwipe:function(t,o,n,a){if(o.time-t.time<e.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-o.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-o.coords[1])<e.event.special.swipe.verticalDistanceThreshold){var s=t.coords[0]>o.coords[0]?"swipeleft":"swiperight";return i(n,"swipe",e.Event("swipe",{target:a,swipestart:t,swipestop:o})),i(n,s,e.Event(s,{target:a,swipestart:t,swipestop:o})),!0}return!1},setup:function(){var t=this,o=e(t);o.bind(l,function(n){function i(o){s&&(a=e.event.special.swipe.stop(o),l||(l=e.event.special.swipe.handleSwipe(s,a,t,r)),Math.abs(s.coords[0]-a.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&o.preventDefault())}var a,s=e.event.special.swipe.start(n),r=n.target,l=!1;o.bind(u,i).one(c,function(){l=!0})})},teardown:function(){e(this).unbind(l).unbind(u).unbind(c)}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(t,o){e.event.special[t]={setup:function(){e(this).bind(o,e.noop)},teardown:function(){e(this).unbind(o)}}})}(e,this)}),define("components/toc-nav",["jquery","version!fly/managers/debug","managers/page-vars","managers/tealium","version!libs/jquery/mobile"],function(e,t,o,n){var i=t.init("tocNav");e.widget("cnet.tocNav",e.fly.base,{options:{applyClassOnHover:!0,closeOnSelect:!0,isIntegratedWithHeader:!0,isExpandableOnHover:!0,isExpandableOnSwipe:!1,isExpandableOnClick:!0,isVisibleOnLoad:!1,stopTouchPropagation:!1},$header:null,$body:null,_create:function(){i.log("Initializing"),this._setup(),this.$body=e("body"),this.$header=e("#rbHeader .fixation, #cesHeaderWrap.fixation"),this._setupEvents(),this.options.isVisibleOnLoad?e("body").addClass("tocNavVisible"):this.options.isIntegratedWithHeader&&(e("img[data-original]").each(function(t,o){o.src=e(o).data("original")}),this.$header.hasClass("fixed")&&e("body").addClass("tocNavVisible"))},_setupEvents:function(){var t=this;this.options.isIntegratedWithHeader&&(this.$header.on("stickyElementStuck",function(){t.$body.addClass("tocNavVisible")}),this.$header.on("stickyElementUnstuck",function(){t.$body.removeClass("tocNavOpen"),t.$body.removeClass("tocNavVisible")})),this.options.isExpandableOnHover&&this.$element.hover(function(){t._trackCustomEvent("expandToc","expandToc"),t.$header.hasClass("fixed")||!t.options.isIntegratedWithHeader?(t.options.applyClassOnHover&&t.$body.addClass("tocNavOpen"),t._trigger("open")):(t.options.applyClassOnHover&&t.$body.removeClass("tocNavOpen"),t._trigger("closed"))},function(){t.options.applyClassOnHover&&t.$body.removeClass("tocNavOpen"),t._trigger("closed")}),this.options.isExpandableOnSwipe&&(this.$element.on("swiperight",function(){t.$body.addClass("tocNavOpen"),t._trigger("open"),t._trackCustomEvent("expandToc","expandToc")}),this.$element.on("swipeleft",function(){t.$body.removeClass("tocNavOpen"),t._trigger("closed")})),this.options.isExpandableOnClick&&e(".expand",this.$element).click(function(){t.$body.hasClass("tocNavOpen")?(t.$body.removeClass("tocNavOpen"),t._trigger("closed")):(t.$body.addClass("tocNavOpen"),t._trigger("open")),t._trackCustomEvent("expandToc","expandToc"),t.$body.on("click.tocNav",function(o){0===e(o.target).closest(t.$element).length&&(t.$body.removeClass("tocNavOpen"),t._trigger("closed"),t.$body.off("click.tocNav"))})}),e("[data-toc-asset-options]",this.$element).click(function(o){o.preventDefault();var n=e(this);if(n.parent().hasClass("selected"))i.log("Element already selected; ignoring click.");else{var a=n.data("toc-asset-options").id;i.log("Firing event to request asset "+a),t.$element.trigger("tocNavRequest",{assetId:a})}t.options.closeOnSelect&&(t.$body.removeClass("tocNavOpen"),t._trigger("closed"))}),this.$element.on("tocNavSelection",function(o,n){i.log("Updating selected asset to #"+n.index),e("li.selected",t.$element).removeClass("selected");var a=e(e("[data-toc-asset-options]",t.$element)[n.index]).parent("li");a.addClass("selected");var s=a.parent("ul"),r=s.scrollTop()+a.position().top;s.animate({scrollTop:r},500)}),this.options.stopTouchPropagation&&this.$element.on("touchmove",function(e){e.stopPropagation()});var n=e(".ad-omnibar-top"),a=function(){if(n.length>0){var e=n.children("div").children("div"),i=o.ads.data.gpt.adConfig.adUnits.omnibarTop.crawlAdPresent,a=e.css("height")||"0px";t.$element.css("height",i&&"0px"!==a?"calc(100% - "+a+")":"100%")}};a(),n.on("adContentModified",a)},_trackCustomEvent:function(e,t){i.log("Track custom event: "+e);var a=o.tracking.data;n.trackCustomEvent(e,{_articleTitle:a.articleTitle,_articleId:a.articleId,_authorPrimaryName:a._authorPrimaryName,_articleType:a.articleType,_pageType:a.pageType,_test:a._test,siteEdition:a._siteEdition,_siteTypeDevice:a._siteTypeDevice,_siteHier:a._siteHier,_pageViewGuid:a._pageViewGuid,browserTitle:document.title,topicId:a.topicId,collectionId:a.collectionId?a.collectionId:"",articleAuthorName:a.articleAuthorName,articleAuthorGuid:a.articleAuthorId,clickGenericText:t},"trackClick")}})}),define("fly/components/dropdown-1.0",["jquery","version!fly/components/base"],function(e){var t="ontouchstart"in window||"onmsgesturechange"in window?!0:!1,o=e.mobile?"vclick":"click";e.widget("fly.dropdown",e.fly.base,{options:{classSelected:"selected",event:"click",selectorTrigger:'[data-item="trigger"]'},$element:null,$trigger:null,enterTimeout:null,leaveTimeout:null,_create:function(){var e=this.options,n={};this._setup(),t&&(e.event="click"),this.$element=this.$element,this.$trigger=this.$element.find(e.selectorTrigger).first(),"click"===e.event?(n[o]="_handleClick",this._on(this.$trigger,n)):"hover"===e.event&&this._on(this.$element,{mouseenter:"_handleMouseEnter",mouseleave:"_handleMouseLeave"})},_handleClick:function(e){e.preventDefault(),this.toggle()},_handleMouseEnter:function(e){var t=this;clearTimeout(this.leaveTimeout),this.enterTimeout=setTimeout(function(){t.show()},50)},_handleMouseLeave:function(e){var t=this;clearTimeout(this.enterTimeout),this.leaveTimeout=setTimeout(function(){t.hide()},150)},_handleDocClick:function(t){var o=e(t.target);0===this.$element.has(o).length&&e.contains(document.documentElement,o[0])&&this.hide()},show:function(){var e=this,t=this.options,n={};this.$element.addClass(t.classSelected),setTimeout(function(){n[o]="_handleDocClick",e._on(e.$document,n)},1),this._trigger("shown",null,{$element:this.$element,$trigger:this.$trigger})},hide:function(){var e=this.options;this.$element.removeClass(e.classSelected),this._off(this.$document,o),this._trigger("hidden",null,{$element:this.$element,$trigger:this.$trigger})},toggle:function(){var e=this.options,t=this.$element.hasClass(e.classSelected);this[t?"hide":"show"]()}})}),define("components/toggle",["jquery","version!fly/managers/debug","version!fly/components/dropdown"],function(e,t){t=t.init("toggle"),e.widget("cnet.toggle",e.fly.dropdown,{options:{openOnInit:!1},_create:function(){this._super(),this.options.openOnInit&&this.show()},show:function(){var e=this.options;this.$element.addClass(e.classSelected),this._trigger("shown",null,{$element:this.$element,$trigger:this.$trigger})}})}),define("components/touch-menu-hover",["jquery","version!fly/managers/debug","managers/device","managers/page-vars","version!fly/components/base"],function(e,t,o,n){t=t.init("touchMenuHover"),e.widget("cnet.touchMenuHover",e.fly.base,{options:{hoverClass:"hover",moreButton:"moreButton"},_create:function(){if(this._setup(),"mobile"!=n.tracking.data.deviceType){var t=navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?!0:!1;t&&e(".social-login").css("display","none")}Modernizr.touch&&this._setupEvents()},_setupEvents:function(){var n=this,i=n.$element,a=e('[data-trigger="menu"]',i);0===a.length&&(a=i),a.on(o.getImmediateClickType(),function(a){e(":cnet-touchMenuHover").not(i).removeClass(n.options.hoverClass),i.hasClass(n.options.hoverClass)?i.hasClass(n.options.moreButton)?(t.log("Link click on active more share menu : leaving hover class"),e(document).on(o.getImmediateClickType(),null,{self:n},n._handleClickOutsideMenu)):(i.removeClass(n.options.hoverClass),t.log("Link click on active : removing hover class"),e(document).off(o.getImmediateClickType(),null,n._handleClickOutsideMenu)):(a.preventDefault(),i.addClass(n.options.hoverClass),t.log("Link click on non-active : preventing link and adding hover class"),e(document).on(o.getImmediateClickType(),null,{self:n},n._handleClickOutsideMenu))})},_handleClickOutsideMenu:function(n){var i=n.data.self,a=e(n.target).parents(":cnet-touchMenuHover");0===a.length&&(t.log("Body click : removing hover class"),i.$element.removeClass(i.options.hoverClass),e(document).off(o.getImmediateClickType(),null,i._handleClickOutsideMenu))}})}),define("managers/third-party/social-flags",[],function(){return{enabled:{facebook:!0,google:!0,linkedIn:!0,pinterest:!0,twitter:!0}}}),define("managers/third-party/twitter",["jquery","version!fly/managers/debug","managers/third-party/social-flags","managers/tealium"],function(e,t,o,n){t=t.init("twitter");var i=!1,a={onInit:null};return{init:function(n){var s=this;o.enabled.twitter&&(e.extend(!0,a,n),i?a.onInit&&a.onInit():(window.twttr=e.extend(!0,{_e:[],ready:function(e){window.twttr._e.push(e)}},window.twttr),twttr.ready(function(){i=!0,s.setupEvents(),a.onInit&&a.onInit(),t.log("Initialized")}),require(["twitter"])))},parse:function(){i?twttr.widgets.load():t.log("Parse failed -- not initialized yet")},isInitialized:function(){return i},setupEvents:function(){var e=this;twttr.events.bind("follow",function(o){t.log("Followed");var n={};e.trackFollow(n)}),twttr.events.bind("tweet",function(o){t.log("Tweeted");var n={};e.trackTweet(n)})},trackFollow:function(t){n.trackSocial(e.extend({socialService:"twitter",event:"connect",levtEventType:"share",eventt:"followcnet",socialId:9},t))},trackTweet:function(t){n.trackSocial(e.extend({socialService:"twitter",event:"share",levtEventType:"share",eventt:"socialsite",socialId:8},t))}}}),define("pages/desktop/article",["main.desktop","components/edition-toggler","components/external-link","components/fixate","components/header-menu","components/iframe-hover-fix","components/livefyre-conversation","components/mobile-footer-link","components/sharebar","components/magnet","components/toc-nav","components/toggle","components/touch-menu-hover","managers/edition-notifications","managers/third-party/google-analytics","managers/third-party/social","managers/third-party/twitter","utils/function-natives"],function(){});
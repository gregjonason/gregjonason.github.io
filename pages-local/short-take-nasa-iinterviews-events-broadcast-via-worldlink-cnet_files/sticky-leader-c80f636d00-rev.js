define(["jquery","version!fly/managers/debug","managers/page-vars","components/sticky-element","version!libs/waypoints/jquery.waypoints"],function(e,n,s){n=n.init("stickyLeader"),e.widget("cnet.stickyLeader",e.cnet.stickyElement,{options:{classFadeOut:"fadeOut"},beginWaypoint:null,endWaypoint:null,_setupEvents:function(){var n=this,s=this.$placeholder[0];this.beginWaypoint=new Waypoint({element:s,handler:function(e){"down"===e?(n.$placeholder.removeClass(n.options.classHidden),n.$element.addClass(n.options.classFixed)):(n.$placeholder.addClass(n.options.classHidden),n.$element.removeClass(n.options.classFixed))},offset:e("body.omnibar").not(".crawlAd")?125:80}),this.endWaypoint=new Waypoint({element:s,handler:function(e){"down"===e&&(n.beginWaypoint.disable(),n.endWaypoint&&n.endWaypoint.disable(),n.$element.addClass("fadeOut"),setTimeout(function(){n.$placeholder.addClass(n.options.classHidden),n.$element.removeClass(n.options.classFixed+" fadeOut")},500))},offset:15})}})});